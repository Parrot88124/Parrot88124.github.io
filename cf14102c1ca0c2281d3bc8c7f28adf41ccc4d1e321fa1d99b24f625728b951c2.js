!function(){var e={2002:function(e,t,a){var r={"./catalogConstants.js":7718,"./experimentConstants.js":6280,"./menuConstants.js":582};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=2002},9630:function(e,t,a){var r={"./breadcrumbsController.js":7450,"./catalogContentController.js":8137,"./catalogController.js":3509,"./genreFiltersController.js":689,"./itemCardController.js":9661,"./itemsContainerController.js":5630,"./searchOptionsController.js":4607};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=9630},7481:function(e,t,a){var r={"./accordionMenuDirective.js":673,"./catalogBreadcrumbsDirective.js":1443,"./catalogPageDirective.js":9645,"./creatorFiltersDirective.js":7473,"./genreFiltersDirective.js":6714,"./imageLoadDirective.js":7210,"./itemCardDirective.js":4094,"./itemsContainerDirective.js":9766,"./mobileSearchBarDirective.js":7566,"./mobileSearchOptionsDirective.js":6214,"./priceFiltersDirective.js":5156,"./salesTypeFilterDirective.js":8112,"./searchBarDirective.js":6085,"./searchOptionsDirective.js":9068,"./shimmerContainerDirective.js":1969,"./shimmerMenuDirective.js":2601,"./showUnavailableFilterDirective.js":5478,"./sortFilterDirective.js":727};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=7481},6811:function(e,t,a){var r={"./range.js":1847};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=6811},7344:function(e,t,a){var r={"./catalogLayoutService.js":2523,"./catalogService.js":9875,"./constantsService.js":769,"./experimentationService.js":7591,"./metricsService.js":575,"./utilityService.js":7820};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=7344},3634:function(e,t,a){var r={"./directives/templates/catalogBreadcrumbs.html":8935,"./directives/templates/catalogPage.html":3461,"./directives/templates/creatorFilters.html":4515,"./directives/templates/genreFilters.html":6351,"./directives/templates/itemCard.html":4209,"./directives/templates/itemsContainer.html":3771,"./directives/templates/mobileSearchBar.html":4507,"./directives/templates/mobileSearchOptions.html":6003,"./directives/templates/priceFilters.html":6904,"./directives/templates/salesTypeFilter.html":4526,"./directives/templates/searchBar.html":4801,"./directives/templates/searchOptions.html":640,"./directives/templates/shimmerContainer.html":6083,"./directives/templates/shimmerMenu.html":4137,"./directives/templates/showUnavailableFilter.html":904,"./directives/templates/sortFilter.html":9326};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=3634},3544:function(e){function t(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function a(e){return e.split("/").pop().replace(".html","")}var r={importFilesUnderPath:function(e){e.keys().forEach(e)},templateCacheGenerator:function(e,r,n,i){return e.module(r,[]).run(["$templateCache",function(e){n&&n.keys().forEach((function(r){var i=t(a(r));e.put(i,n(r))})),i&&i.keys().forEach((function(r){var n=t(a(r));e.put(n,i(r).replace(/<\/?script[^>]*>/gi,""))}))}])}};e.exports=r},9597:function(e,t,a){"use strict";var r=a(792),n=a(5734),i=a.n(n)().module("catalog",["robloxApp","cursorPagination","infiniteScroll","thumbnails"]).config(["$locationProvider","languageResourceProvider",function(e,t){e.html5Mode({enabled:!0,requireBase:!1}),t.setLanguageKeysFromFile(r.Lang.CatalogResources)}]);t.Z=i},7718:function(e,t,a){"use strict";a.r(t);var r=a(792),n=a(9597),i={layout:{initialized:!1,isNavigationMenuLoaded:!1,isSearchItemsLoaded:!1,customText:"custom",accordionMenuIdPrefix:"#category-",showNoResultsMessage:!1,showErrorMessage:!1,isSearchOptionsOpen:!1,isSearchBarFixed:!1,loading:!1,adsInitialized:!1,showFirstLast:!1,isItemDetailsLoaded:!1,isAssetThumbnailLoaded:!1,isBundleThumbnailLoaded:!1,isItemDetailsLoadingFailed:!1,preventLocationChange:!1},defaults:{subcategory:"0"},allGearSubcategoryId:"0",clearFiltersEvent:"Roblox.Catalog.ClearFilters",itemType:{asset:1,bundle:2},templateUrls:{cardItemTemplate:"item-card",catalogBreadcrumbsTemplate:"catalog-breadcrumbs",creatorFiltersTemplate:"creator-filters",genreFiltersTemplate:"genre-filters",mobileSearchBarTemplate:"mobile-search-bar",catalogPageTemplate:"catalog-page",mobileSearchOptionsTemplate:"mobile-search-options",priceFiltersTemplate:"price-filters",searchBarTemplate:"search-bar",searchOptionsTemplate:"search-options",showUnavailableFilterTemplate:"show-unavailable-filter",itemsContainer:"items-container",shimmerContainer:"shimmer-container",shimmerMenu:"shimmer-menu",salesTypeFilterTemplate:"sales-type-filter",sortFilterTemplate:"sort-filter"},buyRobuxUrl:"".concat(r.EnvironmentUrls.websiteUrl,"/upgrades/robux?ctx=catalogNew"),catalogUrl:"".concat(r.EnvironmentUrls.websiteUrl,"/catalog"),numberOfSearchItems:30,numberOfSearchItemsForFullScreen:60,numberOfSearchItemsExpanded:120,expandedCategoryList:["Recommended"],endpoints:{getMetadata:{url:"".concat(r.EnvironmentUrls.catalogApi,"/v1/catalog/metadata"),retryable:!0,withCredentials:!0},enrollAbTesting:{url:"".concat(r.EnvironmentUrls.abtestingApiSite,"/v1/enrollments"),retryable:!1,withCredentials:!0,timeout:500},getPageItems:{url:r.Endpoints?r.Endpoints.getAbsoluteUrl("/catalog/items"):"/catalog/items"},getSearchOptionsUrl:{url:r.Endpoints?r.Endpoints.getAbsoluteUrl("/catalog/search-options"):"/catalog/search-options"},getNavigationMenuItems:{url:"".concat(r.EnvironmentUrls.catalogApi,"/v1/search/navigation-menu-items"),retryable:!0},getSearchItems:{url:"".concat(r.EnvironmentUrls.catalogApi,"/v1/search/items"),retryable:!0},getCatalogItemDetails:{url:"".concat(r.EnvironmentUrls.catalogApi,"/v1/catalog/items/details"),retryable:!1,withCredentials:!0},getCatalogThumbnails:{url:"".concat(r.EnvironmentUrls.thumbnailsApi,"/v1/assets?format=Png"),retryable:!0,withCredentials:!0},getBundleThumbnails:{url:"".concat(r.EnvironmentUrls.thumbnailsApi,"/v1/bundles/thumbnails?format=Png"),retryable:!0,withCredentials:!0},performanceMeasurements:{url:"".concat(r.EnvironmentUrls.metricsApi,"/v1/performance/measurements"),retryable:!1,withCredentials:!0},avatarRequestSuggestion:{url:"".concat(r.EnvironmentUrls.apiGatewayUrl,"/autocomplete-avatar/v2/suggest"),withCredentials:!0,timeout:5e3},avatarRequestCdnSuggestion:{url:"".concat(r.EnvironmentUrls.apiGatewayCdnUrl,"/autocomplete-avatar/v2/suggest"),withCredentials:!0,timeout:5e3},postGetTopics:{url:"".concat(r.EnvironmentUrls.catalogApi,"/v1/topic/get-topics"),withCredentials:!0,timeout:5e3}},abTestingParams:{subjectType:"User",status:{enrolled:"Enrolled"},apiTimeout:500,variations:{fullScreenCatalogVariation:1}},defaultMetadata:{numberOfCatalogItemsToDisplayOnSplash:25,numberOfCatalogItemsToDisplayOnSplashOnPhone:15},categories:{featured:0},subCategories:{allFeaturedItems:0},queryNames:{category:"Category",subcategory:"Subcategory",pageNumber:"PageNumber",catalogContext:"CatalogContext",sortType:"SortType",sortAggregation:"SortAggregation",sortCurrency:"SortCurrency",currencyType:"CurrencyType",genres:"Genres",gears:"Gears",resultsPerPage:"ResultsPerPage",creatorId:"CreatorID",creatorName:"CreatorName",keyword:"Keyword",pxMin:"PxMin",pxMax:"PxMax",includeNotForSale:"IncludeNotForSale",legendExpanded:"LegendExpanded"},queryValueIsInt:["category","subcategory","catalogcontext","sorttype","sortaggregation","sortcurrency","currencytype","gears","creatorid","pxmin","pxmax"],itemTypes:{bundle:"Bundle",asset:"Asset"},priceStatus:{free:"Free",noResellers:"NoResellers"},itemRestrictionTypes:{thirteenPlus:"ThirteenPlus",limitedUnique:"LimitedUnique",limited:"Limited",rthro:"Rthro",dynamicHead:"Live",collectible:"Collectible"},itemRestrictionIcons:{thirteenPlus:"icon-thirteen-plus-label",limited:"icon-limited-label",limitedUnique:"icon-limited-unique-label",thirteenPlusLimited:"icon-thirteen-plus-limited-label",thirteenPlusLimitedUnique:"icon-thirteen-plus-limited-unique-label",rthroLabel:"icon-rthro-label",rthroLimitedLabel:"icon-rthro-limited-label",dynamicHead:"icon-default-dynamichead",collectible:"icon-limited-unique-label"},itemStatusClasses:{New:"status-new",Sale:"status-sale",XboxExclusive:"status-default has-text",AmazonExclusive:"status-default has-text",GooglePlayExclusive:"status-default has-text",IosExclusive:"status-default has-text"},itemStatusHasIcons:["SaleTimer"],itemStatusIcons:{SaleTimer:"icon-clock"},robloxSystemUserId:1,pageDirection:{prev:"prev",next:"next"},initializedPaginations:{currentPage:0,isEnabled:!1,direction:"next",startPaging:!1,previousPageCursor:null,nextPageCursor:null},thumbnailValidationStatus:{error:"Error",complete:"Completed",inReview:"InReview",pending:"Pending",blocked:"Blocked"},thumbnailValidationClasses:{error:"icon-error",inReview:"icon-in-review",pending:"icon-pending",blocked:"icon-blocked",placeholder:"icon-placeholder-asset"},userTypes:{user:"User",group:"Group"},errorMessages:{categoryName:"CatalogPageAjaxErrors",endpointNames:{getSearchItems:"SearchItems",getCatalogItemDetails:"CatalogItemDetails"}},englishLanguageCode:"en",autocompleteQueryAmount:10,autocompleteSuggestionEventData:{autocompleteSuggestionEventContext:"webAvatarShop",autocompleteSuggestionEventTimeoutDelay:200,searchAutocompleteEvent:"searchAutocomplete",searchTextTrimEvent:"searchTextTrim",catalogSearchEvent:"catalogSearch",searchClearEvent:"searchClear",searchSuggestionClickedEvent:"searchSuggestionClicked",pageName:"Avatar Shop",searchBox:"avatarShopDesktop",searchType:"avatarshopsearch",suggestionSource:"server"},layeredClothingSubcategories:[59,58,62,61,60,65,63,64],topics:{categoriesToShowTopics:[1,15],maxTopicsToRequest:40,numberOfItemsToSend:10,topicCarouselId:"topic-carousel",topicCarouselScrollValue:500},topicEventData:{topicEventContext:"webAvatarShop",topicSelectEventName:"selectCatalogTopic",topicDeselectEventName:"deselectCatalogTopic",topicClearEventName:"clearAllTopics"},itemTypeIds:{asset:1,bundle:2}};n.Z.constant("catalogConstants",i),t.default=i},6280:function(e,t,a){"use strict";a.r(t);var r=a(792),n=r.EnvironmentUrls.apiGatewayUrl,i={getExperimentationValues:function(e,t,a){return{url:"".concat(n,"/product-experimentation-platform/v1/projects/").concat(e,"/layers/").concat(t,"/values?parameters=").concat(a.join(",")),withCredentials:!0}}};t.default={url:i,parameterNames:{avatarShopPage:["justinUiChangesCategoryChange","justinUiChangesLeftSearchBar","infiniteScrollEnabled","areGenreFiltersShownForClothingCategories","avatarShopPlacement","isItemDetailsEnabled","hideCreatorName","creatorNameLinksToAvatarShop"],avatarShopRecommendationsAndSearchWeb:["increaseRecommendations120Mobile"],avatarShopRecommendationsAndSearch:["infiniteScroll"],avatarMarketplaceGuidedFeatures:["topicsEnabledWeb"]},layerNames:{avatarShopPage:"AvatarMarketplace.UI",avatarShopRecommendationsAndSearchWeb:"AvatarMarketplace.RecommendationsAndSearch.Web",avatarShopRecommendationsAndSearch:"AvatarMarketplace.RecommendationsAndSearch",avatarMarketplaceGuidedFeatures:"AvatarMarketplace.GuidedFeatures"},defaultProjectId:1}},582:function(e,t,a){"use strict";a.r(t);var r={categoryTypes:{Featured:0,All:1,Collectibles:2,Clothing:3,BodyParts:4,Gear:5,Models:6,Plugins:7,Decals:8,Audio:9,Meshes:10,Accessories:11,AvatarAnimations:12,CommunityCreations:13,Recommended:15},defaultGearSubcategoryId:0,mappingToApiParameters:{category:"category",subcategory:"subcategory",gears:"subcategory",sortaggregation:"sortAggregation",sortcurrency:"sortCurrency",genres:"genres",sorttype:"sortType",creatortype:"creatorType",creatorid:"creatorTargetId",creatorname:"creatorName",pxmin:"minPrice",pxmax:"maxPrice",keyword:"keyword",includenotforsale:"includeNotForSale",triggeredbytopicdiscovery:"TriggeredByTopicDiscovery",topics:"topics",salestypefilter:"salesTypeFilter"}};a(9597).Z.constant("menuConstants",r),t.default=r},7450:function(e,t,a){"use strict";a.r(t);var r=a(9597);a(582);function n(e,t,a,r){t.isSortAvailable=function(){return t.isSearchableCategory(t.currentQuery.category)},t.showGenreBreadcrumb=function(){var e=t.getGenreBreadcrumb();return e&&e.length>0},t.getGenreBreadcrumb=function(){var e=t.navigationMenu.genres;if(!e)return null;var a=e.filter((function(e){return e.isSelected})),n=a.length;return 1===n?a[0].name:2===n?r.genreOrText(a[0].name,a[1].name):n>2?r.genreTextSelected(n):null},t.showCreatorBreadcrumb=function(){return t.data.creatorBreadcrumb&&t.data.creatorBreadcrumb.length>0},t.showPriceBreadcrumb=function(){return t.showFreeBreadcrumb()||t.showCustomPriceBreadcrumb()},t.showFreeBreadcrumb=function(){return t.data.showFreeBreadcrumb},t.showCustomPriceBreadcrumb=function(){if(!t.data.currencyType||t.data.currencyType.currencyType!==t.library.customRobuxFilterId)return!1;if(!t.data.minPriceBreadcrumb&&!t.data.maxPriceBreadcrumb)return t.data.showFreeBreadcrumb=!0,!1;var e=t.data.minPriceBreadcrumb;return"number"==typeof e&&e%1==0},t.isNonDefaultSubcategorySelected=function(){var e=t.getCategoryOption(t.currentQuery.category);return!!(e&&e.subcategories&&t.currentQuery.subcategory)&&e.subcategories[0].subcategoryId!==t.currentQuery.subcategory.subcategoryId},t.clearSubcategory=function(){var e=t.getCategoryOption(t.currentQuery.category);if(e&&e.subcategories){var a=e.subcategories[0];t.currentQuery.subcategory=a}else t.currentQuery.subcategory=null;t.clearGenres()},t.clearGenres=function(e,a){var r=t.navigationMenu.genres;if(r)for(var n=0;n<r.length;n++)r[n].isSelected=!1;e?t.clearKeyword():t.clearCreator(!1,a)},t.clearCreator=function(e,a){t.data.creator=t.data.creators.find((function(e){return e.userId===t.library.defaultCreatorId})),e?t.clearKeyword():t.clearPrice(a)},t.clearPrice=function(e){t.data.currencyType=t.data.currencyTypes?t.data.currencyTypes[0]:null,e?t.applySearch(!0):t.clearKeyword()},t.clearKeyword=function(){t.searchLayout.keyword=null,t.applySearch(!0)};var n=t.$on(a.clearFiltersEvent,(function(e,a){var r=!1;a&&a.keepKeyword&&(r=!0),t.clearGenres(!1,r)}));t.$on("$destroy",(function(){n&&n()}))}n.$inject=["$log","$scope","catalogConstants","constantsService"],r.Z.controller("breadcrumbsController",n),t.default=n},8137:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e,t){t.isInitializedPage=function(){var e=t.library,a=e.initialized,r=e.isPhone,n=e.isApp;return a&&!(r&&n)}}n.$inject=["$log","$scope"],r.Z.controller("catalogContentController",n),t.default=n},3509:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var r=a(792),n=CoreRobloxUtilities,i=a(5734),o=a.n(i),s=RobloxBadges,l=a(9597),c=a(582),u=a(4720),d=a(7718);function g(e,t,a,n,i,o,s,l){r.EventStream&&r.EventStream.SendEventWithTarget(d.default.autocompleteSuggestionEventData.searchAutocompleteEvent,d.default.autocompleteSuggestionEventData.searchType,{algorithm:e,maxResults:s,timeoutDelay:d.default.autocompleteSuggestionEventData.autocompleteSuggestionEventTimeoutDelay,suggestions:t,kwd:a,previouskwd:n,page:u.pageName.PageNameProvider.getInternalPageName(),searchBox:d.default.autocompleteSuggestionEventData.searchBox,locale:i,searchType:d.default.autocompleteSuggestionEventData.searchType,latency:o,suggestionSource:d.default.autocompleteSuggestionEventData.suggestionSource,isPersonalizedBasedOnPreviousQuery:l},r.EventStream.TargetTypes.WWW)}function p(e,t){r.EventStream&&r.EventStream.SendEventWithTarget(d.default.autocompleteSuggestionEventData.searchTextTrimEvent,d.default.autocompleteSuggestionEventData.searchType,{kwd:e,resultingkwd:t,searchType:d.default.autocompleteSuggestionEventData.searchType},r.EventStream.TargetTypes.WWW)}function m(e){r.EventStream&&r.EventStream.SendEventWithTarget(d.default.autocompleteSuggestionEventData.catalogSearchEvent,d.default.autocompleteSuggestionEventData.searchType,{autoCompleteFlag:e,previousPage:u.pageName.PageNameProvider.getInternalPageName()},r.EventStream.TargetTypes.WWW)}function y(e){r.EventStream&&r.EventStream.SendEventWithTarget(d.default.autocompleteSuggestionEventData.searchClearEvent,d.default.autocompleteSuggestionEventData.searchType,{kwd:e,searchType:d.default.autocompleteSuggestionEventData.searchType,page:u.pageName.PageNameProvider.getInternalPageName()},r.EventStream.TargetTypes.WWW)}function b(e,t,a,n){r.EventStream&&r.EventStream.SendEventWithTarget(d.default.autocompleteSuggestionEventData.searchSuggestionClickedEvent,d.default.autocompleteSuggestionEventData.searchType,{kwd:e,searchType:d.default.autocompleteSuggestionEventData.searchType,suggestionPosition:t,suggestionClicked:a,suggestions:n,maxResults:0},r.EventStream.TargetTypes.WWW)}function h(e,t,a,n,i,o,s){r.EventStream&&r.EventStream.SendEventWithTarget(d.default.topicEventData.topicSelectEventName,d.default.topicEventData.topicEventContext,{topic:e,rank:t+1,categoryName:a,subcategoryName:n,query:i,allTopics:o,previousSelectedTopics:s},r.EventStream.TargetTypes.WWW)}function f(e,t,a,n,i,o){r.EventStream&&r.EventStream.SendEventWithTarget(d.default.topicEventData.topicDeselectEventName,d.default.topicEventData.topicEventContext,{topic:e,rank:t+1,categoryName:a,subcategoryName:n,query:i,allTopics:o},r.EventStream.TargetTypes.WWW)}function v(e,t,a,n){r.EventStream&&r.EventStream.SendEventWithTarget(d.default.topicEventData.topicClearEventName,d.default.topicEventData.topicEventContext,{categoryName:e,subcategoryName:t,query:a,allTopics:n},r.EventStream.TargetTypes.WWW)}var S=a(6280);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){I(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function I(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function w(e,t,a,i,l,u,d,C,I,w,E,x,P,A,F){l.splashTiles=[],l.showSplashTiles=!0,l.currentUserId=r.CurrentUser?r.CurrentUser.userId:null,l.increaseRecommendations120=!0,l.infiniteScrollEnabled=!0,l.landingPageInfiniteScrollEnabled=!0,l.hideCreatorName=!1,l.creatorNameLinksToAvatarShop=!1,l.isJustinUiChangesEnabled=!1,l.isAutocompleteEnabled=!1,l.autocompleteAvatarSearchNumToDisplay=0,l.isCatalogAdsRowOnRecommendedPageEnabled=!1,l.genreAllowed=!0,l.useAutocompleteFallback=!1,l.categoryOptimizationEnabled=!1,l.topicBasedBrowsingEnabled=!0,l.topicBasedBrowsingDisplayEnabled=!0,l.topicBasedBrowsingEnabledForCategory=!1,l.triggeredByTopicDiscovery=!1,l.topics=[],l.selectedTopics=[],l.topicCarouselWidth=0,l.$on("$locationChangeSuccess",(function(){if(l.layout.initialized)if(l.layout.preventLocationChange)l.layout.preventLocationChange=!1;else{if(l.navigationMenu.filtersInitialized&&l.setSelectedFilters(),l.queries&&!l.queries.category){var e=l.currentQuery,t=e.category,a=e.subcategory;l.queries.category=t&&t.categoryId,l.queries.subcategory=a&&a.subcategoryId}l.expandSelectedCategoryMenu(),l.library.isSplashPage||(l.getPagedItems(!0),l.adRefresh())}})),l.setupAds=function(){l.layout.adsInitialized||(l.layout.adsInitialized=!0,d.registerAd(d.adIds.leaderboardAbp))},l.adRefresh=function(){d.refreshAllAds()},l.setupLibrary=function(){l.library={};var e={isPhone:!!r.DeviceMeta&&(0,r.DeviceMeta)().isPhone,isDesktop:!r.DeviceMeta||(0,r.DeviceMeta)().isDesktop,isApp:!!r.DeviceMeta&&(0,r.DeviceMeta)().isInApp,buyRobuxUrl:I.buyRobuxUrl,catalogUrl:I.catalogUrl,isSplashPage:x.isSplashPage()};l.library=T({},e)},l.checkIfFullScreen=function(){var e=o().element("#container-main").hasClass("full-screen");l.library.isFullScreen=e},l.initialize=function(){l.layout&&l.layout.initialized||(l.forms={},l.data={},l.navigationMenu={},l.searchResultDict={},l.searchResultList=[],l.paginations=T({},I.initializedPaginations),l.searchLayout={keyword:null,keywordForDisplay:null},l.queries={},l.currentQuery={},l.autocompleteSuggestions=[],l.layout=o().copy(I.layout),l.autocompleteSuggestions={show:!1,timeSinceLastSearchAutocompleteEvent:0,suggestions:[],textSuggestions:[],previousQuery:"",previousQueryBeforeRemoval:"",previousCharInput:-1,backspaceInput:!1,startTime:0,keyboardPosition:-1,locale:""},l.userLocale={},l.setupLibrary(),l.checkIfFullScreen(),l.getMetadataFromApi(),l.setupAds(),l.getUserLocale(),l.justinUiChangesCategoryChange=!0,l.justinUiChangesLeftSearchBar=!1,l.avatarShopPlacement=void 0,l.isItemDetailsEnabled=!1,l.getAvatarShopPageEnrollment(),l.getAvatarShopRecommendationsAndSearchWebEnrollment(),l.getavatarShopRecommendationsAndSearchEnrollment(),l.getAvatarMarketplaceGuidedFeaturesEnrollment())},l.getAvatarShopPageEnrollment=function(){F.getABTestEnrollment(S.default.defaultProjectId,S.default.layerNames.avatarShopPage,S.default.parameterNames.avatarShopPage).then((function(e){void 0!==(null==e?void 0:e.justinUiChangesCategoryChange)&&null!==(null==e?void 0:e.justinUiChangesCategoryChange)&&(l.justinUiChangesCategoryChange=e.justinUiChangesCategoryChange),void 0!==(null==e?void 0:e.justinUiChangesLeftSearchBar)&&null!==(null==e?void 0:e.infiniteScrollEnabled)&&(l.justinUiChangesLeftSearchBar=e.justinUiChangesLeftSearchBar),void 0!==(null==e?void 0:e.infiniteScrollEnabled)&&null!==(null==e?void 0:e.infiniteScrollEnabled)&&(l.infiniteScrollEnabled=e.infiniteScrollEnabled),void 0!==(null==e?void 0:e.hideCreatorName)&&null!==(null==e?void 0:e.hideCreatorName)&&(l.hideCreatorName=e.hideCreatorName),void 0!==(null==e?void 0:e.creatorNameLinksToAvatarShop)&&null!==(null==e?void 0:e.creatorNameLinksToAvatarShop)&&(l.creatorNameLinksToAvatarShop=e.creatorNameLinksToAvatarShop)}),(function(){}))},l.getAvatarShopRecommendationsAndSearchWebEnrollment=function(){F.getABTestEnrollment(S.default.defaultProjectId,S.default.layerNames.avatarShopRecommendationsAndSearchWeb,S.default.parameterNames.avatarShopRecommendationsAndSearchWeb).then((function(e){void 0!==(null==e?void 0:e.increaseRecommendations120Mobile)&&null!==(null==e?void 0:e.increaseRecommendations120Mobile)&&(l.increaseRecommendations120=e.increaseRecommendations120Mobile)}),(function(){}))},l.getavatarShopRecommendationsAndSearchEnrollment=function(){F.getABTestEnrollment(S.default.defaultProjectId,S.default.layerNames.avatarShopRecommendationsAndSearch,S.default.parameterNames.avatarShopRecommendationsAndSearch).then((function(e){void 0!==(null==e?void 0:e.infiniteScroll)&&null!==(null==e?void 0:e.infiniteScroll)&&(l.landingPageInfiniteScrollEnabled=e.infiniteScroll)}),(function(){}))},l.getAvatarMarketplaceGuidedFeaturesEnrollment=function(){F.getABTestEnrollment(S.default.defaultProjectId,S.default.layerNames.avatarMarketplaceGuidedFeatures,S.default.parameterNames.avatarMarketplaceGuidedFeatures).then((function(e){void 0!==(null==e?void 0:e.topicsEnabledWeb)&&null!==(null==e?void 0:e.topicsEnabledWeb)&&(l.topicBasedBrowsingDisplayEnabled=e.topicsEnabledWeb),l.topicBasedBrowsingDisplayEnabled&&l.onTopicBasedBrowsingInitialized()}),(function(){}))},l.isInfiniteScrollWebEnabled=function(){return!l.library.isPhone&&l.infiniteScrollEnabled},l.getMetadataFromApi=function(){C.getMetadataFromApi().then((function(e){var t=e.isPremiumPriceOnItemTilesEnabled,a=e.isPremiumIconOnItemTilesEnabled,r=e.isJustinUiChangesEnabled,n=e.isAutocompleteEnabled,i=e.autocompleteAvatarSearchNumToDisplay,o=e.isCatalogAdsRowOnRecommendedPageEnabled,s=e.categoryOptimizationEnabled,c={initialized:!0,isPremiumPriceOnItemTilesEnabled:t,isPremiumIconOnItemTilesEnabled:a};Object.assign(l.library,c),l.getSearchOptions(),l.isJustinUiChangesEnabled=r,l.isAutocompleteEnabled=n,l.autocompleteAvatarSearchNumToDisplay=i,l.isCatalogAdsRowOnRecommendedPageEnabled=o,l.categoryOptimizationEnabled=s}),(function(){l.library.initialized=!0,l.getSearchOptions()}))},l.onTopicBasedBrowsingInitialized=function(){document.addEventListener("scroll",(function(e){var t=document.getElementById(I.topics.topicCarouselId);e.target===t&&(l.topicCarouselPosition=t.scrollLeft,l.topicCarouselWidth=t.scrollWidth-t.clientWidth,l.updateTopicNavigationButtons())}),!0)},l.postGetTopics=function(e,t){var a=[],r=[],n=0;t.length>0?t.forEach((function(e){r.push(l.formatTopic(e.displayName))})):e.length>0&&e.forEach((function(e){n<I.topics.numberOfItemsToSend&&a.push({targetId:e.id,itemType:"Asset"===e.itemType?I.itemTypeIds.asset:I.itemTypeIds.bundle}),n+=1})),l.topics=[],C.postGetTopics(a,r,l.searchLayout.keyword).then((function(e){l.topics=e.topics,l.topicCarouselPosition=0}),(function(){l.clearTopics()}))},l.onTopicClicked=function(e){if(0===l.selectedTopics.length){var t,a,r=null===(t=l.currentQuery)||void 0===t||null===(a=t.category)||void 0===a?void 0:a.categoryId;l.topicOrigin=r}var n,i,o=l.selectedTopics.indexOf(e);o>-1?(f(e.displayName,l.selectedTopics.indexOf(e),l.currentQuery.category.name,null===(n=l.currentQuery.subcategory)||void 0===n?void 0:n.name,l.searchLayout.keyword,l.buildTopicKeyword(l.topics,",")),l.selectedTopics.splice(o,1)):(h(e.displayName,l.topics.indexOf(e),l.currentQuery.category.name,null===(i=l.currentQuery.subcategory)||void 0===i?void 0:i.name,l.searchLayout.keyword,l.buildTopicKeyword(l.topics,","),l.buildTopicKeyword(l.selectedTopics,",")),l.selectedTopics.push(e));l.searchLayout.topics=l.buildTopicKeyword(l.selectedTopics," "),l.selectedTopics.length>0?(l.searchKeyword(!0),l.triggeredByTopicDiscovery=!0,l.postGetTopics([],l.selectedTopics)):l.onTopicsCleared(),l.resetTopicView()},l.formatTopic=function(e){return e.toLowerCase()},l.buildTopicKeyword=function(e,t){var a="";return e.forEach((function(e){a.length>0&&(a+=t),a+=l.formatTopic(e.displayName)})),a},l.parseTopicsFromString=function(e,t){if(!e||0===e.length)return[];var a=e.split(t),r=[];return a.forEach((function(e){r.push({displayName:e,originalTopicName:""})})),r},l.onTopicsCleared=function(){l.topicOrigin===c.default.categoryTypes.Recommended?(l.currentQuery.category=l.getCategoryOptionFromCategoryId(c.default.categoryTypes.Recommended),l.$broadcast(I.clearFiltersEvent,{keepKeyword:!0})):l.$broadcast(I.clearFiltersEvent,{keepKeyword:!0})},l.showTopicNavigationButton=function(e){var t=document.getElementById(I.topics.topicCarouselId);return l.topicCarouselWidth=t.scrollWidth-t.clientWidth,!(l.topics&&l.selectedTopics&&l.topics.length<=0&&l.selectedTopics.length<=0)&&(e?l.topicCarouselWidth>0&&l.topicCarouselPosition>0:l.topicCarouselWidth>0&&l.topicCarouselPosition+1<l.topicCarouselWidth)},l.showTopicNavigationClearButton=function(){return!l.showTopicNavigationButton(!0)&&l.selectedTopics.length>1},l.updateTopicNavigationButtons=function(){var e=document.getElementById(I.topics.topicCarouselId),t=document.getElementById("topic-navigation-left"),a=document.getElementById("topic-navigation-right"),r=document.getElementById("topic-navigation-clear");l.topicCarouselWidth=e.scrollWidth-e.clientWidth,l.showTopicNavigationButton(!0)?t.classList.remove("ng-hide"):t.classList.add("ng-hide"),l.showTopicNavigationButton(!1)?a.classList.remove("ng-hide"):a.classList.add("ng-hide"),l.showTopicNavigationClearButton()?r.classList.remove("ng-hide"):r.classList.add("ng-hide")},l.resetTopicView=function(){document.getElementById(I.topics.topicCarouselId).scrollLeft=0,l.updateTopicNavigationButtons()},window.onresize=function(){l.topicBasedBrowsingDisplayEnabled&&l.updateTopicNavigationButtons()},l.onTopicNavigationButtonClicked=function(e){var t=document.getElementById(I.topics.topicCarouselId);l.topicCarouselPosition=t.scrollLeft,e?(t.scrollLeft-=I.topics.topicCarouselScrollValue,l.topicCarouselPosition-=I.topics.topicCarouselScrollValue):(t.scrollLeft+=I.topics.topicCarouselScrollValue,l.topicCarouselPosition+=I.topics.topicCarouselScrollValue)},l.clearTopics=function(){l.searchLayout.topics=null,l.topics=[],l.selectedTopics=[]},l.onTopicClearButtonClicked=function(){var e;v(l.currentQuery.category.name,null===(e=l.currentQuery.subcategory)||void 0===e?void 0:e.name,l.searchLayout.keyword,l.buildTopicKeyword(l.topics,",")),l.clearTopics(),l.searchLayout.topics=l.buildTopicKeyword(l.selectedTopics," "),l.onTopicsCleared()},l.getCatalogAdsABTestEnrollment=function(){F.getABTestEnrollment(S.default.defaultProjectId,S.default.layerNames.avatarShopPage,S.default.parameterNames.catalogItemAds).then((function(e){void 0!==(null==e?void 0:e.avatarShopPlacement)&&void 0!==(null==e?void 0:e.isItemDetailsEnabled)&&(l.avatarShopPlacement=e.avatarShopPlacement,l.isItemDetailsEnabled=e.isItemDetailsEnabled)}),(function(){}))},l.callBackForSearchOptions=function(){l.setSelectedFilters(),l.setQuery(!0),l.getPagedItems(!0,!0);e((function t(){a.pendingRequests.length>0?e(t):(l.expandSelectedCategoryMenu(),l.layout.resetVerticalMenu=!0)}))},l.getSearchOptions=function(){l.layout.hasSearchOptionsError=!1,C.getNavigationMenuItems().then((function(e){void 0!==e.isGenreAllowed&&(l.genreAllowed=e.isGenreAllowed),x.buildNavigationMenu(e,l.library),l.setNavigationMenu(e),l.callBackForSearchOptions()})).finally((function(){l.layout.isNavigationMenuLoaded=!0}))},l.getUserLocale=function(){var e=(new r.TranslationResourceProvider).intl.locale;l.autocompleteSuggestions.locale=e;var t=e.indexOf("-");(e=e.substring(0,-1!==t?t:e.length))!==I.englishLanguageCode&&(e+=",".concat(I.englishLanguageCode)),l.autocompleteLanguageCode=e},l.resetPaginations=function(){Object.assign(l.paginations,I.initializedPaginations)},l.resetPageContentAndLoading=function(e){l.layout.showNoResultsMessage=!1,l.layout.showErrorMessage=!1,l.layout.loading=!1,l.layout.isItemDetailsLoaded=!1,l.layout.isAssetThumbnailLoaded=!1,l.layout.isBundleThumbnailLoaded=!1,l.layout.isItemDetailsLoadingFailed=!1,e&&(l.searchResultDict={},l.searchResultList=[],l.paginations.startPaging||l.resetPaginations())},l.setPaginations=function(e){if(l.showViewAllFeaturedItemsButton())return!1;var t=l.isPaginationEnabled(),a=e.previousPageCursor,r=e.nextPageCursor;Object.assign(l.paginations,{previousPageCursor:a,nextPageCursor:r});var n=l.paginations.currentPage;l.paginations.direction===I.pageDirection.next?l.paginations.currentPage++:l.paginations.direction===I.pageDirection.prev?l.paginations.currentPage=n>0?n-1:0:t=r||a,l.paginations.isEnabled=t},l.isPaginationEnabled=function(){var e=l.library,t=e.isPhone,a=e.isSplashPage;return!(t||!l.landingPageInfiniteScrollEnabled&&l.isCurrentCategoryRecommended()||a)},l.buildSearchResultData=function(e){if(0===l.searchResultList.length&&(!e||0===e.length))return l.layout.showNoResultsMessage=!0,!1;var t=I.itemTypes,a={};e.forEach((function(e){var r=x.getCatalogContentKey(e);e.key=r,l.searchResultDict[r]=e,l.searchResultList.indexOf(r)<0&&l.searchResultList.push(r);var n=e.id;e&&e.itemType===t.bundle?e.thumbnailType=A.thumbnailTypes.bundleThumbnail:e.thumbnailType=A.thumbnailTypes.assetThumbnail,a[n]=e})),C.getCatalogItemDetails(a,l.creatorNameLinksToAvatarShop).then((function(e){x.updateSearchItemDetails(e,l.searchResultDict)}),(function(e){var t=I.errorMessages.endpointNames;P.sendErrorsToGoogleAnalytics(e,t.getCatalogItemDetails),P.sendErrorsToLogCount(e,t.getCatalogItemDetails),l.layout.isItemDetailsLoadingFailed=!0})).finally((function(){l.layout.isItemDetailsLoaded=!0;try{(0,s.initRobloxBadgesFrameworkAgnostic)({overrideIconClass:"verified-badge-icon-catalog-item"})}catch(e){}}))},l.getSearchItems=function(e,t){x.translateToEnumStrings(l.library,e),C.getSearchItems(e,l.library.isFullScreen,l.increaseRecommendations120&&I.expandedCategoryList.includes(e.category)||!I.expandedCategoryList.includes(e.category)&&l.isInfiniteScrollWebEnabled()).then((function(e){if(l.resetPageContentAndLoading(t),e){var a=e.data,r=e.keyword;l.selectedTopics.length<=0&&(l.searchLayout.keyword=r,l.searchLayout.keywordForDisplay=r),l.topicBasedBrowsingEnabled&&l.topicBasedBrowsingEnabledForCategory&&!l.searchResultList.length>0&&l.topicBasedBrowsingDisplayEnabled&&(!l.selectedTopics.length>0?a.length>0&&l.postGetTopics(a,[]):l.postGetTopics([],l.selectedTopics)),l.setPaginations(e),l.buildSearchResultData(a)}}),(function(e){i.debug(" ------ getCatalogResults error -------"),l.resetPageContentAndLoading(t),l.layout.showErrorMessage=!0;var a=I.errorMessages.endpointNames;P.sendErrorsToGoogleAnalytics(e,a.getSearchItems),P.sendErrorsToLogCount(e,a.getSearchItems)})).finally((function(){l.layout.initialized||(l.layout.initialized=!0),l.paginations.startPaging=!1,l.layout.isSearchItemsLoaded=!0}))},l.getPagedItems=function(e,t){e&&!t&&(l.searchResultDict={},l.searchResultList=[]),l.layout.loading=!0,l.getSearchItems(l.queries,e)},l.setNavigationMenu=function(e){var t=e.priceFilters,a=e.categories,r=e.genres,n=e.sortMenu,i=e.creatorFilters,o={categories:a,currencyTypes:t,genres:r,sortMenus:n,salesTypeFilters:e.salesTypeFilters};Object.assign(l.navigationMenu,o),l.setCreatorFilters(i),l.navigationMenu.filtersInitialized=!0,l.navigationMenu.categories.forEach((function(e){e.categoryId===l.library.gearCategoryId&&e.subcategories.sort(l.gearSubcategoryCompare)})),t&&t.length>0&&(l.library.defaultCurrencyType=t[0]),Object.assign(l.data,l.navigationMenu)},l.gearSubcategoryCompare=function(e,t){return e.subcategoryId===I.allGearSubcategoryId?-1:t.subcategoryId===I.allGearSubcategoryId?1:E.intl.langSensitiveCompare(e.name,t.name)},l.setSelectedFilters=function(){var e=x.getQueriesValueIntoInt();if(l.data.query=e,l.queries=x.formatQueries(e),l.topicBasedBrowsingEnabledForCategory=I.topics.categoriesToShowTopics.includes(e.Category),l.triggeredByTopicDiscovery=e.TriggeredByTopicDiscovery,l.selectedTopics=l.parseTopicsFromString(e.topics,","),l.searchLayout.topics=l.buildTopicKeyword(l.selectedTopics," "),!l.topicBasedBrowsingDisplayEnabled&&e.topics?(l.searchLayout.topics=null,l.triggeredByTopicDiscovery=!1,l.searchKeyword(!0)):(l.searchLayout.keyword=e.Keyword,l.searchLayout.keywordForDisaply=e.Keyword),l.setSelectedNavigationMenu(e.Category,e.Subcategory,e.Gears,e.CatalogContext),l.setCreatorValue(e.CreatorID,e.CreatorName,e.CreatorType),l.setCurrencyValue(e.CurrencyType,e.pxMin,e.pxMax),l.data.includeNotForSale=e.IncludeNotForSale||!1,l.categoryOptimizationEnabled){var t=e.salesTypeFilter?parseInt(e.salesTypeFilter,10):1,a=l.data.salesTypeFilters.find((function(e){return e.filter===t}));l.data.salesTypeFilter=a}else l.data.salesTypeFilter=void 0,l.searchKeyword(!0);l.setGenresInMenuOptions(e.Genres),l.setSortMenus(e.SortType,e.SortAggregation)},l.setSearchOptionsOpenValue=function(e){l.layout.isSearchOptionsOpen=e,l.layout.hideMainView=e,r.SharedElementManipulator.toggleChat(e),r.SharedElementManipulator.toggleFooter(e),r.SharedElementManipulator.togglePagification(e),e||u()},l.toggleSearchOptions=function(e){l.setSearchOptionsOpenValue(e),e||(l.setSelectedFilters(),l.closeWarning())},l.onKeywordKeypress=function(t,a){13===t.which&&(-1===l.autocompleteSuggestions.keyboardPosition?(t.target.blur(),l.clearTopics(),l.triggeredByTopicDiscovery=!1,l.searchKeyword(a),!0===l.isAutocompleteEnabled&&(l.autocompleteSuggestions.show=!1,m(0))):!0===l.isAutocompleteEnabled&&e((function(){o().element(document.querySelector("#autocomplete-suggestion-".concat(l.autocompleteSuggestions.keyboardPosition))).triggerHandler("click")}),0))},l.onKeywordKeydown=function(e){if(!1!==l.isAutocompleteEnabled){if(8===e.which&&(l.autocompleteSuggestions.previousQueryBeforeRemoval=l.searchLayout.keyword,l.autocompleteSuggestions.backspaceInput=!0),40===e.which||9===e.which){var t=l.autocompleteSuggestions.keyboardPosition+1,a=o().element("#autocomplete-suggestion-li-".concat(t));if(t<l.autocompleteSuggestions.suggestions.length){e.stopPropagation(),e.preventDefault();var r=o().element("#autocomplete-suggestion-li-".concat(l.autocompleteSuggestions.keyboardPosition));null!==r&&r.removeClass("selected"),l.autocompleteSuggestions.keyboardPosition=t,a.addClass("selected")}else 9!==e.which?(e.stopPropagation(),e.preventDefault()):(o().element("#autocomplete-suggestion-li-".concat(l.autocompleteSuggestions.suggestions.length-1)).removeClass("selected"),l.autocompleteSuggestions.show=!1,l.autocompleteSuggestions.keyboardPosition=-1)}if(38===e.which){e.stopPropagation(),e.preventDefault();var n=o().element("#autocomplete-suggestion-li-".concat(l.autocompleteSuggestions.keyboardPosition));null!==n&&n.removeClass("selected");var i=l.autocompleteSuggestions.keyboardPosition-1,s=o().element("#autocomplete-suggestion-li-".concat(i));i>-1?(l.autocompleteSuggestions.keyboardPosition=i,s.addClass("selected")):l.autocompleteSuggestions.keyboardPosition=-1}l.autocompleteSuggestions.previousCharInput=e.which}},l.keywordChanged=function(){!1!==l.isAutocompleteEnabled&&(l.searchLayout.keyword?(l.autocompleteSuggestions.show=!0,l.getAutocompleteSuggestions(l.searchLayout.keyword)):(l.autocompleteSuggestions.suggestions=[],l.autocompleteSuggestions.textSuggestions=[]))},l.getAutocompleteSuggestions=function(e){l.autocompleteSuggestions.startTime=Date.now(),C.getAvatarRequestSuggestion(e,l.autocompleteLanguageCode,I.autocompleteQueryAmount,l.autocompleteSuggestions.previousQuery,l.useAutocompleteFallback).then((function(e){if(e.Args.Prefix===l.searchLayout.keyword){l.autocompleteSuggestions.suggestions=[],l.autocompleteSuggestions.textSuggestions=[];var t=e.Data;(t=t.slice(0,l.autocompleteAvatarSearchNumToDisplay)).forEach((function(e){l.autocompleteSuggestions.suggestions.push(e),l.autocompleteSuggestions.textSuggestions.push(e.Query)})),(Date.now()>l.autocompleteSuggestions.timeSinceLastSearchAutocompleteEvent+I.autocompleteSuggestionEventData.autocompleteSuggestionEventTimeoutDelay||null===l.autocompleteSuggestions.timeSinceLastSearchAutocompleteEvent)&&(l.autocompleteSuggestions.previousQuery=e.Args.Prefix,g(e.Algo,l.autocompleteSuggestions.textSuggestions,e.Args.Prefix,l.autocompleteSuggestions.previousQuery,l.autocompleteSuggestions.locale,Date.now()-l.autocompleteSuggestions.startTime,l.autocompleteAvatarSearchNumToDisplay,""!==l.autocompleteSuggestions.previousQuery)),!0===l.autocompleteSuggestions.backspaceInput&&p(l.autocompleteSuggestions.previousQueryBeforeRemoval,e.Args.Prefix),l.autocompleteSuggestions.timeSinceLastSearchAutocompleteEvent=Date.now(),l.autocompleteSuggestions.backspaceInput=!1}}),(function(){l.useAutocompleteFallback=!0}))},l.onKeywordInputClicked=function(e){!1!==l.isAutocompleteEnabled&&(e.stopPropagation(),l.autocompleteSuggestions.show=!0)},l.onClickOutsideAutocomplete=function(){!1!==l.isAutocompleteEnabled&&(l.autocompleteSuggestions.show=!1,l.autocompleteSuggestions.keyboardPosition=-1)},l.onAutocompleteSuggestionClicked=function(e,t){!1!==l.isAutocompleteEnabled&&(l.searchLayout.keyword=e,l.searchKeyword(!0),l.autocompleteSuggestions.keyboardPosition=-1,l.getAutocompleteSuggestions(e),b(l.searchLayout.keyword,t,e,l.autocompleteSuggestions.textSuggestions),m(1),l.autocompleteSuggestions.show=!1,l.autocompleteSuggestions.keyboardPosition=-1)},l.onKeywordClear=function(e){!1!==l.isAutocompleteEnabled&&(e.stopPropagation(),y(l.searchLayout.keyword),document.getElementById("avatar-shop-keyword-input").focus(),l.autocompleteSuggestions.show=!0,l.searchLayout.keyword="",l.autocompleteSuggestions.suggestions=[],l.autocompleteSuggestions.textSuggestions=[])},l.searchKeyword=function(e){l.applySearch(e)},l.resetFiltersAndApplySearch=function(){l.$broadcast(I.clearFiltersEvent,{keepKeyword:!1})},l.applyMobileSearch=function(){!l.forms.searchOptionsForm||l.forms.searchOptionsForm.$valid?(l.setSearchOptionsOpenValue(!1),l.closeWarning(),l.library.isSplashPage=!1,l.isCurrentCategoryRecommended()?l.resetFiltersAndApplySearch():l.applySearch()):l.layout.showError=!0},l.closeWarning=function(){l.layout.showError=!1},l.buyRobuxButtonOnClickEvt=function(){n.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(n.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_ROBUX_PURCHASE,!1,n.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CATALOG_LIST_PAGE,n.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,n.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.BUY_ROBUX)},l.fetchNextFromInfiniteScroll=function(){l.layout.isSearchOptionsOpen||l.layout.loading||!l.paginations.nextPageCursor||!l.layout.isItemDetailsLoaded&&l.isInfiniteScrollWebEnabled()||(l.library.isSplashPage&&(l.library.isSplashPage=!1,l.queries.category=l.currentQuery.category&&l.currentQuery.category.categoryId,l.queries.subcategory=l.currentQuery.subcategory&&l.currentQuery.subcategory.subcategoryId),l.queries.cursor=l.paginations.nextPageCursor,l.isInfiniteScrollWebEnabled()?l.getPagedItems(!1,!0):l.getSearchItems(l.queries),l.paginations.direction=I.pageDirection.next)},l.setQuery=function(){var e={};l.setKeywordParam(e),l.setTopicParams(e),l.setCategoryParams(e),l.setGenresForMenuOptions(e),l.setCreatorParam(e),l.setPriceParams(e),l.setSalesTypeParams(e),null!=l.data.sortType&&l.data.sortType.sortType!==l.library.defaultSortTypeId&&(e.SortType=l.data.sortType.sortType),null!=l.data.sortType&&l.data.sortType.hasSubMenu&&null!=l.data.sortAggregation&&l.data.sortAggregation!==l.library.defaultSortAggregationId&&(e.SortAggregation=l.data.sortAggregation.sortAggregation),l.data.includeNotForSale&&(e.IncludeNotForSale=l.data.includeNotForSale),l.data.query=e,l.queries=x.formatQueries(e),l.topicBasedBrowsingEnabledForCategory=I.topics.categoriesToShowTopics.includes(l.queries.category),l.layout.preventLocationChange=!0,t.search(e)},l.setKeywordParam=function(e){var t=l.searchLayout,a=t.keyword;t.topics;l.searchLayout.keywordForDisplay=null,a&&(e.Keyword=a,l.searchLayout.keywordForDisplay=a)},l.setCategoryParams=function(e){if(l.isCurrentCategoryRecommended()&&(e.Keyword||e.topics)){var t=l.library.defaultCategoryIdForRecommendedSearch;return l.currentQuery.category=l.getCategoryMenu({categoryId:t}),l.currentQuery.subcategory=null,e.Category=t,void(e.Subcategory=null)}l.currentQuery.category&&(!l.library.displaySplash||l.paginations.currentPage>1)&&(e.Category=l.currentQuery.category.categoryId,null!=l.currentQuery.subcategory&&(l.currentQuery.category.categoryId===l.library.gearCategoryId?l.currentQuery.subcategory.subcategoryId!==I.defaults.subcategory&&(e.Gears=l.currentQuery.subcategory.subcategoryId,e.Subcategory=l.currentQuery.subcategory.subcategoryId):e.Subcategory=l.currentQuery.subcategory.subcategoryId))},l.setGenresForMenuOptions=function(e){var t=[],a=l.navigationMenu.genres;if(a)for(var r=0;r<a.length;r++){var n=a[r];n.isSelected&&t.push(n.genre)}t.length>0&&(e.Genres=t)},l.setCreatorParam=function(e){l.data.creatorBreadcrumb=null,l.data.creator&&l.data.creator.userId!==l.library.defaultCreatorId&&(l.data.creator.userId===l.library.robloxUserId?(e.CreatorID=l.data.creator.userId,l.data.creatorBreadcrumb=l.data.creator.name):l.data.creator.userId===l.layout.customText&&null!=l.data.creatorName?(e.CreatorName=l.data.creatorName,l.data.creatorBreadcrumb=l.data.creatorName):l.data.creator.userId&&(e.CreatorID=l.data.creator.userId)),l.data.creator&&l.data.creator.type&&(e.CreatorType=l.data.creator.type)},l.setPriceParams=function(e){var t=l.data.currencyType;if(l.data.showFreeBreadcrumb=t&&t.currencyType===l.library.freeFilterId,l.data.minPriceBreadcrumb=null,l.data.maxPriceBreadcrumb=null,null!=t&&t.currencyType!==l.library.defaultCurrencyId){if(e.CurrencyType=t.currencyType,t.currencyType===l.library.customRobuxFilterId){l.data.minPrice=l.data.minPrice&&l.data.minPrice.toString().length>9?null:l.data.minPrice,l.data.maxPrice=l.data.maxPrice&&l.data.maxPrice.toString().length>9?null:l.data.maxPrice;var a=l.data.minPrice,r=l.data.maxPrice;r&&a>r&&(l.data.minPrice=r,l.data.maxPrice=a),l.data.minPriceBreadcrumb=l.data.minPrice||0,l.data.maxPriceBreadcrumb=l.data.maxPrice,null===l.data.minPrice&&null===l.data.maxPrice?(e.pxMin=0,e.pxMax=0):(e.pxMin=l.data.minPrice,e.pxMax=l.data.maxPrice)}t.currencyType===l.library.freeFilterId&&(e.pxMin=0,e.pxMax=0)}},l.setTopicParams=function(e){var t=l.searchLayout.topics,a=[];l.selectedTopics.forEach((function(e){a.push(e.displayName.toLowerCase())})),t&&(e.TriggeredByTopicDiscovery=!0,e.topics=l.buildTopicKeyword(l.selectedTopics,","))},l.setSalesTypeParams=function(e){l.categoryOptimizationEnabled?e.salesTypeFilter=l.data.salesTypeFilter.filter:e.salesTypeFilter=void 0},l.setSelectedNavigationMenu=function(e,t,a,r){if(!l.navigationMenu.categories)return!1;Number.isInteger(e,10)||(e=r?l.library.allCategoriesId:l.library.defaultCategoryId);var n=l.navigationMenu.categories.find((function(t){return t.categoryId===e}));if(n||(e=l.library.defaultCategoryId,n=l.navigationMenu.categories.find((function(t){return t.categoryId===e}))),l.currentQuery.category=n,!n||n.subcategories&&0===n.subcategories.length)return l.currentQuery.subcategory=null,!1;if(e===l.library.gearCategoryId){var i=a?a[0]:null;i||(i=n.subcategories[0].subcategoryId),l.currentQuery.subcategory=n.subcategories.find((function(e){return e.subcategoryId===i}))}else t&&(l.isLayeredClothingCategory=I.layeredClothingSubcategories.includes(t),l.currentQuery.subcategory=n.subcategories.find((function(e){return e.subcategoryId===t})));return!1},l.setCreatorFilters=function(e){return e?(e.push({name:null,isSelected:!1,userId:l.layout.customText}),l.data.creators=e,!0):(l.data.creators=null,!1)},l.setGenresInMenuOptions=function(e){if(l.navigationMenu.genres){var t=[];if(e)if(Array.isArray(e))for(var a=0;a<e.length;a++)t.push(parseInt(e[a],10));else t.push(parseInt(e,10));for(var r=l.navigationMenu.genres,n=0;n<r.length;n++){var i=r[n];r[n].isSelected=t.indexOf(i.genre)>=0}}},l.setGenres=function(e){if(l.data.genres){var t=[];if(e)if(Array.isArray(e))for(var a=0;a<e.length;a++)t.push(e[a].toString());else t.push(e.toString());for(var r=0;r<l.data.genres.length;r++){var n=l.data.genres[r];l.data.genres[r].IsSelected=t.indexOf(n.genre)>=0}}},l.setCreatorValue=function(e,t,a){var r=l.data.creators;if(t)l.data.creator=r.find((function(e){return e.userId===l.layout.customText})),l.data.creatorName=t,l.data.creatorBreadcrumb=t;else{e||(e=l.library.defaultCreatorId);var n=parseInt(e,10);n>parseInt(l.library.robloxUserId,10)?(l.data.creator=r.find((function(e){return e.userId===l.layout.customText})),l.data.creator.userId=n):l.data.creator=r.find((function(t){return t.userId===e})),l.data.creatorBreadcrumb=l.data.creator&&l.data.creator.userId!==l.library.defaultCreatorId?l.data.creator.name:null,l.data.creatorName=null}l.data.creator&&a&&(l.data.creator.type=a)},l.setCurrencyValue=function(e,t,a){var r=l.navigationMenu.currencyTypes;return r?(l.data.currencyType=null==e?l.library.defaultCurrencyType:r.find((function(t){return t.currencyType===e})),l.data.showFreeBreadcrumb=l.data.currencyType&&l.data.currencyType.currencyType===l.library.freeFilterId,l.data.minPrice=null,l.data.maxPrice=null,l.data.currencyType.currencyType===l.library.customRobuxFilterId&&(t=t?parseInt(t,10):null,a=a?parseInt(a,10):null,l.data.minPrice=0!==t?t:null,l.data.maxPrice=0!==a?a:null,l.data.minPriceBreadcrumb=t||0,l.data.maxPriceBreadcrumb=a),!1):(l.data.currencyType=null,!1)},l.setSortMenus=function(e,t){var a=l.navigationMenu.sortMenus;if(!a)return l.data.sortType=null,l.data.sortAggregation=null,!1;var r=a.sortOptions,n=a.sortAggregations;return r?(l.data.defaultSortValue=r[0],l.data.sortType=null==e?l.data.defaultSortValue:r.find((function(t){return t.sortType===e}))):l.data.sortType=null,n?(l.data.defaultSortAggregationValue=n[0],l.data.sortAggregation=null==t?l.data.defaultSortAggregationValue:n.find((function(e){return e.sortAggregation===t}))):l.data.sortAggregation=null,!1},l.setSortType=function(e){var t=l.data.sortMenus;return t&&t[0]?(t[0].Sorts&&(l.data.defaultSortValue=t[0].Sorts[0],l.data.sortType=null==e?l.data.defaultSortValue:t[0].Sorts.find((function(t){return t.sortType===e}))),!1):(l.data.sortType=null,!1)},l.setSortAggregation=function(e){var t=l.data.sortMenus;return t&&t[1]?(t[1].Sorts&&(l.data.defaultSortAggregationValue=t[1].Sorts[0],l.data.sortAggregation=null==e?l.data.defaultSortAggregationValue:t[1].Sorts.find((function(t){return t.sortAggregation===e}))),!1):(l.data.sortAggregation=null,!1)},l.getCategoryOptionFromCategoryId=function(e){return e<0?null:l.navigationMenu.categories.find((function(t){return t.categoryId===e}))},l.getCategoryMenu=function(e){return e?l.navigationMenu.categories.find((function(t){return t.categoryId===e.categoryId})):null},l.getCategoryOption=function(e){return l.getCategoryMenu(e)},l.getCategoryDropdownValue=function(){var e,t;if(!l.currentQuery.category)return"";if((null===(e=l.currentQuery)||void 0===e||null===(t=e.category)||void 0===t?void 0:t.categoryId)===c.default.categoryTypes.Recommended){var a=l.library.defaultCategoryIdForRecommendedSearch;if(Number.isInteger(a,10)){var r=l.navigationMenu.categories.find((function(e){return e.categoryId===a}));if(r&&r.name)return r.name}}return l.currentQuery.category.categoryId===l.library.gearCategoryId&&l.currentQuery.subcategory&&l.currentQuery.subcategory.subcategoryId!==l.library.defaultGearSubcategoryId?l.currentQuery.subcategory.name:l.currentQuery.category.name},l.updateCategory=function(e,t,a,r,n){if(a&&(l.searchLayout.keyword=null,l.clearTopics(),l.topicBasedBrowsingEnabledForCategory=I.topics.categoriesToShowTopics.includes(r.categoryId)),n?(l.isLayeredClothingCategory=I.layeredClothingSubcategories.includes(n.subcategoryId),e.stopPropagation()):l.isLayeredClothingCategory=!1,l.currentQuery.category=r,l.currentQuery.subcategory=n,!n){var i=l.getCategoryOption(r);i&&i.subcategories&&(l.currentQuery.subcategory=i.subcategories[0])}l.library.isSplashPage=!1,t?l.$broadcast(I.clearFiltersEvent,{keepKeyword:!a}):l.applySearch(!0)},l.updateSort=function(e){l.data.sortType=e,l.applySearch(!0)},l.updateSortAggregation=function(e){l.data.sortAggregation=e,l.applySearch(!0)},l.filterChanged=function(){if(!l.layout.isSearchOptionsOpen)if(l.data.customCreatorSelected||l.data.creatorName||!l.data.creator||l.data.creator.userId!==l.layout.customText){if(l.data.isCreatorAGroup=!1,l.data.customCreatorSelected=!1,null==l.data.minPriceBreadcrumb&&l.data.currencyType&&l.data.currencyType.currencyType===l.library.customRobuxFilterId){if(!l.data.customPriceSelected)return void(l.data.customPriceSelected=!0);l.data.currencyType=l.data.defaultCurrencyValue,l.data.customPriceSelected=!1}else l.data.customPriceSelected=!1;l.applySearch(!0)}else l.data.customCreatorSelected=!0},l.applySearch=function(e,t){l.layout.isSearchItemsLoaded=!1,l.library.isSplashPage=!1,l.setQuery(t),l.getPagedItems(!0,e),l.adRefresh()},l.applyCreatorName=function(){l.applySearch()},l.mobileCategoryClick=function(e,t){var a=e.subcategories;!e||!t&&a&&a.length>0||(a&&0!==a.length||(l.currentQuery.subcategory=null),l.currentQuery.category=e)},l.getAllFeaturedItems=function(){var e={Category:l.getSearchableCategory()};l.library.isSplashPage=!1,l.data.query=e,l.queries=x.formatQueries(e),t.search(e),l.setSelectedNavigationMenu(e.Category),l.getPagedItems(!0,!1)},l.showViewAllFeaturedItemsButton=function(){var e=l.library,t=e.isSplashPage,a=e.initialized,r=e.isPhone;return!l.landingPageInfiniteScrollEnabled&&(t||l.isCurrentCategoryRecommended()&&a&&!r)},l.getSearchableCategory=function(){var e,t,a=null===(e=l.currentQuery)||void 0===e||null===(t=e.category)||void 0===t?void 0:t.categoryId;return l.isCurrentCategoryRecommended()?l.library.defaultCategoryIdForRecommendedSearch:a},l.getViewAllItemsTranslation=function(e){return e===c.default.categoryTypes.All?l.categoryOptimizationEnabled?"Label.AllItems":"Action.ViewAllItems":"Action.ViewFeaturedItems"},l.getTranslationKeyForViewFeaturedButton=function(){return l.getViewAllItemsTranslation(l.getSearchableCategory())},l.showUnavailableFilter=function(){return l.library&&!l.library.isPhone},l.showCurrencyType=function(e){return!(!l.currentQuery.category||!e)&&!(l.currentQuery.category.categoryId===l.library.defaultCategoryId&&e.currencyType===l.library.freeFilterId)},l.isSearchableCategory=function(e){var t;return null===(t=null==e?void 0:e.isSearchable)||void 0===t||t},l.categoryClick=function(e,t){t.subcategories&&0!==t.subcategories.length||(l.clearTopics(),l.topicBasedBrowsingEnabledForCategory=I.topics.categoriesToShowTopics.includes(t.categoryId),l.library.isSplashPage=!1,l.currentQuery.category=t,l.currentQuery.subcategory=null,l.$broadcast(I.clearFiltersEvent))},l.categoryNameClick=function(e,t){l.clearTopics(),l.topicBasedBrowsingEnabledForCategory=I.topics.categoriesToShowTopics.includes(t.categoryId),(!t.subcategories||0===t.subcategories.length||l.isJustinUiChangesEnabled&&l.justinUiChangesCategoryChange)&&(l.library.isSplashPage=!1,l.currentQuery.category=t,l.currentQuery.subcategory=null,l.$broadcast(I.clearFiltersEvent)),l.isJustinUiChangesEnabled&&l.justinUiChangesCategoryChange&&"true"===document.getElementById("expandable-menu-category-".concat(t.categoryId)).getAttribute("aria-expanded")&&e.stopPropagation()},l.expandSelectedCategoryMenu=function(){var e=l.currentQuery.category;if(e){var t=e.categoryId===c.default.categoryTypes.Recommended?l.library.defaultCategoryIdForRecommendedSearch:e.categoryId,a=l.getCategoryOptionFromCategoryId(t);a&&null!=a.subcategories&&0!=a.subcategories.length&&r.BootstrapWidgets.ShowAccordionMenu(l.layout.accordionMenuIdPrefix+t)}},l.isCurrentCategoryRecommended=function(){var e,t;return(null===(e=l.currentQuery)||void 0===e||null===(t=e.category)||void 0===t?void 0:t.categoryId)===c.default.categoryTypes.Recommended};var L=l.$watch("data.currencyType",(function(e){e&&e.excludePriceSorts&&l.data.sortType&&l.data.sortType.isPriceRelated&&(l.data.sortType=l.data.defaultSortValue)})),k=l.$watch("data.category",(function(e){e&&e.categoryId===l.library.defaultCategoryId&&l.data.currencyType&&l.data.currencyType.currencyType===l.library.freeFilterId&&(l.data.currencyType=l.library.defaultCurrencyType,l.data.showFreeBreadcrumb=!1,l.$apply())}));l.$on("$destroy",(function(){L&&L(),k&&k()})),l.initialize()}w.$inject=["$timeout","$location","$http","$log","$scope","$anchorScroll","abpService","catalogService","catalogConstants","constantsService","languageResource","utilityService","metricsService","thumbnailConstants","experimentationService"],l.Z.controller("catalogController",w);var E=w},689:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e,t){t.clearGenreFilters=function(){t.navigationMenu.genres.forEach((function(e){e.isSelected=!1})),t.applySearch(!0)}}n.$inject=["$log","$scope"],r.Z.controller("genreFiltersController",n),t.default=n},9661:function(e,t,a){"use strict";a.r(t);a(5734);var r=a(9597);function n(e,t,a){t.hasSecondaryInfo=function(){return t.isCreatorNameShown()||t.item.unitsAvailableForConsumption>0&&!1},t.isCreatorNameShown=function(){return t.item&&t.item.creatorTargetId!==a.robloxSystemUserId&&t.item.creatorName&&!t.hideCreatorName},t.isItemThumbnailLoading=function(){return t.item.itemType===a.itemTypes.bundle?!t.layout.isBundleThumbnailLoaded:!t.layout.isAssetThumbnailLoaded},t.isItemThumbnailAvailable=function(){return t.item.thumbnail&&t.item.thumbnail.imageUrl},t.shouldShowPremiumIcon=function(){return!0===t.library.isPremiumIconOnItemTilesEnabled&&void 0!==t.item.premiumPricing},t.getDisplayPrice=function(){return t.library.isPremiumPriceOnItemTilesEnabled&&t.item.premiumPricing?t.item.premiumPricing.premiumPriceInRobux:t.item.lowestPrice?t.item.lowestPrice:t.item.price},t.clickItemCard=function(e){t.item.detailsUrl||e.preventDefault()},t.showVerifiedBadge=function(e){return e&&e.creatorHasVerifiedBadge}}n.$inject=["$log","$scope","catalogConstants"],r.Z.controller("itemCardController",n),t.default=n},5630:function(e,t,a){"use strict";a.r(t);var r=a(9597),n=a(582);function i(e,t,a,r){t.getNumberItemToDisplay=function(){return t.increaseRecommendations120&&a.expandedCategoryList.includes(t.queries.category)||t.isInfiniteScrollEnabled()&&t.isInfiniteScrollWebEnabled()?a.numberOfSearchItemsExpanded:t.library.isFullScreen?a.numberOfSearchItemsForFullScreen:t.library.isSplashPage?a.numberOfSearchItems:t.searchResultList.length},t.isInfiniteScrollEnabled=function(){var e=t.library,a=e.initialized,r=e.isPhone;return a&&r||t.isInfiniteScrollWebEnabled()},t.isRegularItemsResultAvailable=function(){var e=t.library,a=e.initialized,r=e.isPhone;return a&&!r},t.isBreadcrumbsAvailable=function(){var e=t.library,a=e.initialized,r=e.isPhone;return a&&!r},t.shouldShowHeading=function(){return t.layout.isNavigationMenuLoaded&&(t.library.isSplashPage&&!t.categoryOptimizationEnabled||t.isCurrentCategoryRecommended())},t.isRecommendedEnabled=function(){return t.library.defaultCategoryId===n.default.categoryTypes.Recommended},t.showRecommendedHeading=function(){return t.library.isSplashPage&&t.isRecommendedEnabled()||t.isCurrentCategoryRecommended()},t.showReturnToTop=function(){return t.searchResultList.length>a.numberOfSearchItemsExpanded},t.returnToTop=function(){window.scrollTo({top:0,behavior:"smooth"})},t.pager={loadNextPage:function(){var e=t.paginations,r=e.nextPageCursor,n=e.startPaging;r&&!n&&(t.queries.cursor=r,t.getSearchItems(t.queries,!0),t.paginations.direction=a.pageDirection.next,t.paginations.startPaging=!0)},loadPreviousPage:function(){var e=t.paginations,r=e.previousPageCursor,n=e.startPaging;r&&!n&&(t.queries.cursor=r,t.getSearchItems(t.queries,!0),t.paginations.direction=a.pageDirection.prev,t.paginations.startPaging=!0)},canLoadNextPage:function(){var e=t.paginations,a=e.nextPageCursor,r=e.startPaging;return a&&!r},canLoadPreviousPage:function(){var e=t.paginations,a=e.previousPageCursor,r=e.startPaging;return a&&!r},getCurrentPageNumber:function(){return t.paginations.currentPage}}}i.$inject=["$log","$scope","catalogConstants","$anchorScroll"],r.Z.controller("itemsContainerController",i),t.default=i},4607:function(e,t,a){"use strict";a.r(t);var r=a(9597),n=a(582);function i(e,t,a,r){t.canShowFilters=function(){return(!t.library.isSplashPage||t.categoryOptimizationEnabled)&&t.isSearchableCategory(t.currentQuery.category)},t.canShowGenreFilters=function(){var e,a;if(!t.genreAllowed)return!1;var r=null===(e=t.currentQuery)||void 0===e||null===(a=e.category)||void 0===a?void 0:a.categoryId;return void 0===r||r!==n.default.categoryTypes.CommunityCreations&&(r!==n.default.categoryTypes.Clothing||!1!==t.areGenreFiltersShownForClothingCategories)},t.canToggleSubmenu=function(e){var t=e.subcategories;return t&&t.length>0},t.isUGCOnly=function(){var e,a;return(null===(e=t.currentQuery)||void 0===e||null===(a=e.category)||void 0===a?void 0:a.categoryId)===n.default.categoryTypes.CommunityCreations}}i.$inject=["$log","$scope","catalogConstants","constantsService"],r.Z.controller("searchOptionsController",i),t.default=i},673:function(e,t,a){"use strict";a.r(t);var r=a(792);function n(){return{restrict:"A",scope:!0,link:function(){r.BootstrapWidgets.SetupAccordion()}}}a(9597).Z.directive("accordionMenu",n),t.default=n},1443:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.catalogBreadcrumbsTemplate}}n.$inject=["catalogConstants"],r.Z.directive("catalogBreadcrumbs",n),t.default=n},9645:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.catalogPageTemplate}}n.$inject=["catalogConstants"],r.Z.directive("catalogPage",n),t.default=n},7473:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.creatorFiltersTemplate}}n.$inject=["catalogConstants"],r.Z.directive("creatorFilters",n),t.default=n},6714:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.genreFiltersTemplate}}n.$inject=["catalogConstants"],r.Z.directive("genreFilters",n),t.default=n},7210:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",link:function(t,a,r){a.bind("load",(function(){t.item&&t.item.thumbnail&&e((function(){t.item.thumbnail.isLoaded=!0}))}))}}}n.$inject=["$timeout"],r.Z.directive("imageLoad",n),t.default=n},4094:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.cardItemTemplate}}n.$inject=["catalogConstants"],r.Z.directive("itemCard",n),t.default=n},9766:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.itemsContainer}}n.$inject=["catalogConstants"],r.Z.directive("itemsContainer",n),t.default=n},7566:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.mobileSearchBarTemplate}}n.$inject=["catalogConstants"],r.Z.directive("mobileSearchBar",n),t.default=n},6214:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.mobileSearchOptionsTemplate}}n.$inject=["catalogConstants"],r.Z.directive("mobileSearchOptions",n),t.default=n},5156:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.priceFiltersTemplate}}n.$inject=["catalogConstants"],r.Z.directive("priceFilters",n),t.default=n},8112:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.salesTypeFilterTemplate}}n.$inject=["catalogConstants"],r.Z.directive("salesTypeFilter",n),t.default=n},6085:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.searchBarTemplate}}n.$inject=["catalogConstants"],r.Z.directive("searchBar",n),t.default=n},9068:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.searchOptionsTemplate}}n.$inject=["catalogConstants"],r.Z.directive("searchOptions",n),t.default=n},1969:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.shimmerContainer}}n.$inject=["catalogConstants"],r.Z.directive("shimmerContainer",n),t.default=n},2601:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.shimmerMenu}}n.$inject=["catalogConstants"],r.Z.directive("shimmerMenu",n),t.default=n},5478:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.showUnavailableFilterTemplate}}n.$inject=["catalogConstants"],r.Z.directive("showUnavailableFilter",n),t.default=n},727:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.sortFilterTemplate}}n.$inject=["catalogConstants"],r.Z.directive("sortFilter",n),t.default=n},1847:function(e,t,a){"use strict";function r(){return function(e,t){t=t||30,t=parseInt(t,10);for(var a=0;a<t;a++)e.push(a);return e}}a.r(t),a(9597).Z.filter("range",r),t.default=r},2523:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e,t){var a=t;return{itemStatusLabels:{Sale:a.get("Label.Sale"),New:a.get("Label.New"),XboxExclusive:a.get("Label.Xbox"),AmazonExclusive:a.get("Label.Amazon"),GooglePlayExclusive:a.get("Label.GoogleOnly"),IosExclusive:a.get("Label.AppleOnly")}}}n.$inject=["$log","languageResource"],r.Z.factory("catalogLayoutService",n),t.default=n},9875:function(e,t,a){"use strict";a.r(t);a(792);var r=a(9597);function n(e,t,a,r,n,i){return{getMetadataFromApi:function(){return a.httpGet(n.endpoints.getMetadata)},getSearchOptions:function(){var e=n.endpoints.getSearchOptionsUrl;return a.httpGet(e)},getNavigationMenuItems:function(){return a.httpGet(n.endpoints.getNavigationMenuItems)},getSearchItems:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n.numberOfSearchItems,o=n.numberOfSearchItemsForFullScreen,s=n.numberOfSearchItemsExpanded,l=t?o:i;r&&(l=s);var c={limit:l};return Object.assign(c,e),a.httpGet(n.endpoints.getSearchItems,c)},getCatalogItemDetails:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n.endpoints,o=n.priceStatus,s=[];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.push(e[l]);var c={items:s};return a.httpPost(r.getCatalogItemDetails,c).then((function(a){var r=a&&a.data?a.data:[];return r.forEach((function(a){var r=a.id;a.key=e[r].key,a.priceStatus===o.free&&(a.isFree=!0),i.mapItemRestrictionIcons(a),i.mapItemStatusIconsAndLabels(a),t?i.buildUserShopLink(a):i.buildUserLink(a)})),r}))},getAvatarRequestSuggestion:function(e,t,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=t;null===s&&(s=n.englishLanguageCode);var l={prefix:e,limit:r,lang:s,q:i};return o?a.httpGet(n.endpoints.avatarRequestSuggestion,l):a.httpGet(n.endpoints.avatarRequestCdnSuggestion,l)},postGetTopics:function(e,t,r){var i=!(null==r||""===r),o={maxResult:n.topics.maxTopicsToRequest,items:i?[]:e,selectTopics:t,inputQuery:i?r:void 0};return a.httpPost(n.endpoints.postGetTopics,o)}}}n.$inject=["$log","$q","httpService","eventStreamService","catalogConstants","utilityService"],r.Z.factory("catalogService",n),t.default=n},769:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){var t=e;return{genreOrText:function(e,a){return t.get("Label.BreadCrumb.GenreOrText",{genreName1:e,genreName2:a})},genreTextSelected:function(e){return t.get("Label.BreadCrumb.GenreSelectedText",{genreCount:e})}}}n.$inject=["languageResource"],r.Z.factory("constantsService",n),t.default=n},7591:function(e,t,a){"use strict";a.r(t);a(4720);var r=a(792);a(6280);function n(){return{getABTestEnrollment:function(e,t,a){var n=r.ExperimentationService.getAllValuesForLayer(t);return n.then((function(){r.ExperimentationService.logLayerExposure(t)})),n}}}a(9597).Z.factory("experimentationService",n),t.default=n},575:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e,t,a,r,n){return{sendErrorsToLogCount:function(e,r){var n,i,o=e.errors,s=a.errorMessages.categoryName,l=[];o.forEach((function(e){var t=e.code,a=r+t;l.push({featureName:s,measureName:a,value:1})})),l.length>0&&(n=l,i=a.endpoints.performanceMeasurements,t.httpPost(i,n))},sendErrorsToGoogleAnalytics:function(e,t){var i=e.errors,o=a.errorMessages.categoryName,s=n.buildErrorMessages(i,r.getUserAgent());r.fireEvent(o,t,s)}}}n.$inject=["$log","httpService","catalogConstants","googleAnalyticsEventsService","utilityService"],r.Z.factory("metricsService",n),t.default=n},7820:function(e,t,a){"use strict";a.r(t);var r=a(792),n=a(4720),i=a(9597);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function l(e,t,a,i,s){function l(e){return encodeURIComponent(e).replace(/[!'()*]/g,escape)}return{isSplashPage:function(){var e=i.search(),a=t.queryNames,r=a.category,n=a.subcategory,o=a.keyword,s=a.catalogContext;return e&&!e[r]&&!e[n]&&!e[o]&&!e[s]},getQueriesValueIntoInt:function(){for(var e=i.search(),a=t.queryValueIsInt,r=0,n=Object.entries(e);r<n.length;r++){var s=o(n[r],2),l=s[0],c=s[1];a.indexOf(l.toLowerCase())>-1?e[l]=parseInt(c):e[l]=c}return e},buildNavigationMenu:function(e,t){var r=[];e.categoriesWithCreator&&e.categoriesWithCreator.forEach((function(e){r.push(e)}));var n={robloxUserId:e.robloxUserId,robloxUserName:e.robloxUserName,defaultCurrencyId:e.defaultCurrency,freeFilterId:e.freeFilter,customRobuxFilterId:e.customRobuxFilter,robuxFilterId:e.robuxFilter,allCategoriesId:e.allCategories,defaultCategoryId:e.defaultCategory,defaultCategoryIdForRecommendedSearch:e.defaultCategoryIdForRecommendedSearch,gearCategoryId:e.gearSubcategory,defaultGearSubcategoryId:a.defaultGearSubcategoryId,defaultSortTypeId:e.defaultSortType,defaultSortAggregationId:e.defaultSortAggregation,categoriesWithCreatorFilters:r,defaultCreatorId:e.defaultCreator};t.categoryEnumLibrary={};var i={};e.categories.forEach((function(e){if(e.typeId=e.categoryId,e.Data=e.typeId.toString(),e.Description=e.name,i[e.categoryId]={categoryEnum:e.category,subcategoryEnums:{}},e.subcategories){var t={};e.subcategories.forEach((function(e){e.typeId=e.subcategoryId,e.Data=e.typeId.toString(),e.Description=e.name,t[e.subcategoryId]=e.subcategory})),Object.assign(i[e.categoryId].subcategoryEnums,t)}})),Object.assign(t.categoryEnumLibrary,i),t.priceEnumLibrary={};var o={};e.priceFilters.forEach((function(e){e.typeId=e.currencyType.toString(),e.Data=e.typeId.toString(),e.Description=e.name,o[e.currencyType]={typeId:e.currencyType,name:e.name}})),Object.assign(t.priceEnumLibrary,o),e.genres.forEach((function(e){e.typeId=e.genre.toString(),e.Data=e.typeId.toString(),e.Description=e.name})),e.creatorFilters.forEach((function(e){e.Data=e.userId.toString(),e.Description=e.name}));var s=e.sortMenu,l=s.sortOptions,c=s.sortAggregations;l.forEach((function(e){e.typeId=e.sortType,e.Data=e.typeId.toString(),e.Description=e.name})),c.forEach((function(e){e.typeId=e.sortAggregation,e.Data=e.typeId.toString(),e.Description=e.name})),t.salesTypeFilters=[];var u=[];e.salesTypeFilters.forEach((function(e){var t={};t.name=e.name.toString(),t.filter=e.filter,u.push(t)})),Object.assign(t.salesTypeFilters,u),Object.assign(t,n)},getCatalogContentKey:function(e){var t=e.id,a=e.itemType;return"".concat(a,"_").concat(t)},updateSearchItemDetails:function(a,i){a&&a.forEach((function(a){var o=a,s=a.key;o.detailsUrl=function(e){var a=e.itemType,n=e.id,i=(e.name,t.itemTypes);switch(a){case i.bundle:return r.Endpoints.getAbsoluteUrl?r.Endpoints.getAbsoluteUrl("/bundles/".concat(n,"/")):"".concat(r.EnvironmentUrls.websiteUrl,"/bundles/").concat(n,"/");case i.asset:default:return r.Endpoints.getAbsoluteUrl?r.Endpoints.getAbsoluteUrl("/catalog/".concat(n,"/")):"".concat(r.EnvironmentUrls.websiteUrl,"/catalog/").concat(n,"/")}}(a),o.nameForDisplay=function(a){var i=t.userTypes,o=t.robloxSystemUserId,s=a.creatorName,l=a.creatorType,c=a.creatorTargetId;return i.user===l&&o!==c&&r.DisplayNames.Enabled()?n.concatTexts.concat(["",e("escapeHtml")(s)]):e("escapeHtml")(s)}(a),o.detailsLoaded=!0,Object.assign(i[s],o)}))},updateSearchItemThumbnails:function(e,t){e&&e.forEach((function(e){var a=e.key,r={thumbnail:e};Object.assign(t[a],r)}))},formatQueries:function(e){var t={},r=a.mappingToApiParameters;for(var n in e){var i=e[n],o=r[n.toLowerCase()];o&&(t[o]=i)}return t},mapItemRestrictionIcons:function(e){if(e&&e.itemRestrictions){var a=t.itemTypes,r=t.itemRestrictionTypes,n=t.itemRestrictionIcons;e.itemType===a.bundle?(e.isLimited=e.itemRestrictions.indexOf(r.limited)>-1,e.isCollectible=e.itemRestrictions.indexOf(r.collectible)>-1,e.isRthro=e.itemRestrictions.indexOf(r.rthro)>-1,e.isDynamicHead=e.itemRestrictions.indexOf(r.dynamicHead)>-1,e.isLimited?e.itemRestrictionIcon=e.isRthro?n.rthroLimitedLabel:n.rthroLabel:e.isDynamicHead?e.itemRestrictionIcon=n.dynamicHead:e.isCollectible&&(e.itemRestrictionIcon=n.collectible)):(e.isThirteenPlus=e.itemRestrictions.indexOf(r.thirteenPlus)>-1,e.isLimitedUnique=e.itemRestrictions.indexOf(r.limitedUnique)>-1,e.isLimited=e.itemRestrictions.indexOf(r.limited)>-1,e.isCollectible=e.itemRestrictions.indexOf(r.collectible)>-1,e.isDynamicHead=e.itemRestrictions.indexOf(r.dynamicHead)>-1,e.isLimitedUnique?e.itemRestrictionIcon=e.isThirteenPlus?n.thirteenPlusLimitedUnique:n.limitedUnique:e.isLimited?e.itemRestrictionIcon=e.isThirteenPlus?n.thirteenPlusLimited:n.limited:e.isThirteenPlus?e.itemRestrictionIcon=n.thirteenPlus:e.isDynamicHead?e.itemRestrictionIcon=n.dynamicHead:e.isCollectible&&(e.itemRestrictionIcon=n.collectible))}},mapItemStatusIconsAndLabels:function(e){if(e&&e.itemStatus){var a=t.itemStatusClasses,r=t.itemStatusHasIcons,n=t.itemStatusIcons,i=s.itemStatusLabels;e.itemStatusIconsAndLabels=[],e.itemStatus.forEach((function(t){r.indexOf(t)>-1?e.itemStatusIconsAndLabels.push({isIcon:!0,type:n[t]}):e.itemStatusIconsAndLabels.push({class:a[t],label:i[t]})}))}},translateToEnumStrings:function(e,t){var a=e.categoryEnumLibrary,r=t.category,n=t.subcategory,i=t.gears;if(a&&a[r]){var o=a[r],s=o.categoryEnum,l=o.subcategoryEnums,c={category:s,subcategory:i?l[i]:l[n]};Object.assign(t,c)}},buildUserLink:function(e){var a=e||{},n=a.creatorType,i=a.creatorTargetId,o=t.userTypes;switch(n){case o.group:e.creatorLink=r.Endpoints.getAbsoluteUrl("/groups/".concat(i));break;case o.user:default:e.creatorLink=r.Endpoints.getAbsoluteUrl("/users/".concat(i,"/profile"))}},buildUserShopLink:function(e){var a=e||{},n=a.creatorType,i=a.creatorName,o=t.userTypes;switch(n){case o.group:e.creatorLink=r.Endpoints.getAbsoluteUrl("/catalog/?Category=1&CreatorName=".concat(l(i),"&CreatorType=Group"));break;case o.user:default:e.creatorLink=r.Endpoints.getAbsoluteUrl("/catalog/?Category=1&CreatorName=".concat(l(i)))}},buildErrorMessages:function(e,t){var a="userId-".concat(r.CurrentUser.userId);return e&&e.length>0&&e.forEach((function(e){var t=e.code,r=e.message;a+="-code-".concat(t,"-message-").concat(r)})),a+="-userAgent-".concat(t)}}}l.$inject=["$filter","catalogConstants","menuConstants","$location","catalogLayoutService"],i.Z.factory("utilityService",l),t.default=l},8935:function(e){e.exports='<div class="breadcrumbs" ng-controller="breadcrumbsController"> <ul class="breadcrumb-container"> <li ng-click="clearSubcategory()"> <a class="text-link breadcrumb-link">{{ currentQuery.category.name }}</a> </li> <li ng-show="isNonDefaultSubcategorySelected()" ng-click="clearGenres()"> <span class="icon-right-16x16"></span> <a class="text-link breadcrumb-link">{{ currentQuery.subcategory.name }}</a> </li> <li ng-show="showPriceBreadcrumb() || showCreatorBreadcrumb() || showGenreBreadcrumb()"> <span class="icon-right-16x16"></span> </li> <li class="breadcrumb-filter" ng-show="showGenreBreadcrumb()" ng-click="clearCreator()"> <span class="breadcrumb-filter-name">{{ getGenreBreadcrumb() }}</span> </li> <li class="breadcrumb-filter" ng-show="showCreatorBreadcrumb()" ng-click="clearPrice()"> <span class="breadcrumb-filter-name"> <span class="breadcrumb-group-label" ng-show="data.isCreatorAGroup" ng-bind="\'Label.BreadCrumb.Group\' | translate"></span>{{ data.creatorBreadcrumb }} </span> </li> <li class="breadcrumb-filter" ng-show="showPriceBreadcrumb()" ng-click="clearKeyword()"> <span class="breadcrumb-filter-name" ng-show="showFreeBreadcrumb()" ng-bind="\'Label.BreadCrumb.Free\' | translate"></span> <span class="breadcrumb-filter-name" ng-show="showCustomPriceBreadcrumb()"> <span ng-show="data.minPriceBreadcrumb && !data.maxPriceBreadcrumb"> <span class="icon-robux-gray-16x16"></span> <span ng-bind="\'Label.BreadCrumb.PriceAbove\' | translate:{price: data.minPriceBreadcrumb}"></span> </span> <span ng-show="data.maxPriceBreadcrumb && data.minPriceBreadcrumb"> <span class="icon-robux-gray-16x16"></span> {{data.minPriceBreadcrumb}} - <span class="icon-robux-gray-16x16"></span> {{data.maxPriceBreadcrumb}} </span> <span ng-show="data.maxPriceBreadcrumb && !data.minPriceBreadcrumb"> <span class="icon-robux-gray-16x16"></span> <span ng-bind="\'Label.BreadCrumb.PriceBelow\' | translate:{price: data.maxPriceBreadcrumb}"></span> </span> </span> </li> <li ng-show="searchLayout.keywordForDisplay && searchLayout.keywordForDisplay.length > 0"> <span class="icon-right-16x16"></span> <a class="text-link breadcrumb-link">{{ searchLayout.keywordForDisplay }}</a> </li> </ul> <br ng-if="isJustinUiChangesEnabled && justinUiChangesLeftSearchBar"/> <br ng-if="isJustinUiChangesEnabled && justinUiChangesLeftSearchBar"/> <div ng-class="{ \'sort-menus-original\': !(isJustinUiChangesEnabled && justinUiChangesLeftSearchBar), \'sort-menus-layered-clothing-ui\': isJustinUiChangesEnabled && justinUiChangesLeftSearchBar}"> <div class="sort-search" ng-show="isJustinUiChangesEnabled && justinUiChangesLeftSearchBar"> <div ng-if="library.initialized && !library.isPhone" class="clearfix"> <div search-bar ng-if="isJustinUiChangesEnabled && justinUiChangesLeftSearchBar"></div> </div> </div> <div ng-if="!categoryOptimizationEnabled" class="input-group-btn sort-dropdown" ng-show="isSortAvailable()"> <button type="button" data-toggle="dropdown" class="input-dropdown-btn" ng-disabled="disabled" aria-haspopup="true" aria-expanded="false"> <span class="rbx-selection-label ng-binding">{{ data.sortType.name }}</span> <span class="icon-down-16x16"></span> </button> <ul class="dropdown-menu" ng-class="{ \'dropdown-menu-shifted\': isJustinUiChangesEnabled && justinUiChangesLeftSearchBar}" data-toggle="dropdown-menu" role="menu"> <li ng-repeat="sort in navigationMenu.sortMenus.sortOptions" ng-hide="sort.isPriceRelated && data.currencyType && data.currencyType.excludePriceSorts" ng-model="data.sortType" ng-value="sort"> <a class="text-overflow" title="{{ sort.name }}" ng-click="updateSort(sort)">{{ sort.name }}</a> </li> </ul> </div> <div ng-if="!categoryOptimizationEnabled" ng-show="data.sortType.HasSubMenu || data.sortType.hasSubMenu" class="input-group-btn subsort-dropdown"> <button type="button" data-toggle="dropdown" class="input-dropdown-btn" ng-disabled="disabled" aria-haspopup="true" aria-expanded="false"> <span class="rbx-selection-label ng-binding">{{ data.sortAggregation.name }}</span> <span class="icon-down-16x16"></span> </button> <ul class="dropdown-menu" ng-class="{ \'dropdown-menu-shifted\': isJustinUiChangesEnabled && justinUiChangesLeftSearchBar}" data-toggle="dropdown-menu" role="menu"> <li ng-repeat="sort in navigationMenu.sortMenus.sortAggregations" ng-model="data.sortAggregation" ng-value="sort"> <a class="text-overflow" title="{{ sort.name }}" ng-click="updateSortAggregation(sort)">{{ sort.name }}</a> </li> </ul> </div> </div> </div>'},3461:function(e){e.exports='<div class="alert-system-feedback"> <div class="alert alert-warning" ng-class="{\'on\': layout.showError}"> <span class="alert-content" ng-bind="\'Response.Error.Filter\' | translate"></span> <span ng-click="closeWarning()" class="icon-close-white"></span> </div> </div> <div id="catalog-content" class="clearfix catalog-content" ng-controller="catalogContentController" ng-class="{\'splash\': library.isSplashPage && !library.isFullScreen,\'catalog-full-screen\': library.isFullScreen}"> <div id="main-view" ng-hide="layout.hideMainView"> <div class="search-bars" ng-class="{ \'search-bar-placement-right\': !(isJustinUiChangesEnabled && justinUiChangesLeftSearchBar) }"> <h1 ng-if="isInitializedPage()" class="heading"> <a href="{{library.catalogUrl}}" target="_self" ng-bind="\'Heading.Marketplace\' | translate"></a> </h1> <a ng-if="isInitializedPage()" ng-click="buyRobuxButtonOnClickEvt()" class="btn-growth-md buy-robux" href="{{ library.buyRobuxUrl }}" target="_self" ng-bind="\'Action.BuyRobux\' | translate"> </a> <div mobile-search-bar></div> <div ng-if="library.initialized && !library.isPhone" class="clearfix" ng-show="!(isJustinUiChangesEnabled && justinUiChangesLeftSearchBar)"> <div search-bar ng-if="!(isJustinUiChangesEnabled && justinUiChangesLeftSearchBar)"></div> </div> </div> <div ng-if="library.initialized && !library.isPhone"> <div search-options ng-if="layout.isNavigationMenuLoaded"></div> <div shimmer-menu ng-if="!layout.isNavigationMenuLoaded"></div> </div> <div items-container></div> </div> <div mobile-search-options></div> </div> '},4515:function(e){e.exports='<ul ng-if="data.creators"> <li ng-repeat="creator in data.creators" class="radio top-border font-caption-body" ng-hide="creator.userId === library.robloxUserId && isUGCOnly()"> <input type="radio" name="radio-creator" id="radio-creator-{{ creator.userId }}" ng-model="data.creator" ng-value="creator" ng-change="filterChanged()"/> <label for="radio-creator-{{ creator.userId }}" ng-if="creator.userId < 2">{{ creator.name }}</label> <label for="radio-creator-custom" class="has-input" ng-if="(creator.userId >= 2 || creator.userId === layout.customText)" ng-class="{\'form-has-error\': forms.searchOptionsForm.creatorName.$error.required}"> <input class="form-control input-field username-input font-caption-body" type="text" name="creatorName" placeholder="{{ \'Label.Username\' | translate }}" maxlength="20" ng-model="data.creatorName" ng-focus="data.creator = creator" ng-required="library.isPhone && data.creator === creator"/> <button class="btn-secondary-xs btn-update-filter" ng-disabled="!data.creatorName || data.creatorName.length === 0" ng-click="applyCreatorName()" ng-bind="\'Action.Go\' | translate"></button> </label> </li> </ul>'},6351:function(e){e.exports='<a class="small text all-genres-filter menu-link" ng-click="clearGenreFilters()" ng-bind="\'Label.AllGenres\' | translate"></a> <ul> <li ng-repeat="genre in data.genres" class="checkbox top-border font-caption-body"> <input id="genre-{{ genre.genre }}" type="checkbox" ng-model="genre.isSelected" ng-change="filterChanged()"/> <label for="genre-{{ genre.genre }}">{{ genre.name }}</label> </li> </ul>'},4209:function(e){e.exports='<a href="{{item.detailsUrl}}" target="_self" class="item-card-container" ng-click="clickItemCard($event)" title="{{item.name}}"> <div ng-if="item.itemStatusIconsAndLabels.length > 0" class="asset-status-icon"> <div ng-repeat="itemStatus in item.itemStatusIconsAndLabels" ng-class="[{\'has-icon\' : itemStatus.isIcon}, itemStatus.class]"> <span ng-if="itemStatus.isIcon" ng-class="[itemStatus.type]"></span> <span ng-if="itemStatus.label"> {{itemStatus.label}} </span> </div> </div> <div class="item-card-link"> <div class="item-card-thumb-container"> <thumbnail-2d class="item-card-thumb" thumbnail-type="item.thumbnailType" thumbnail-target-id="item.id" alt-name="item.name"> </thumbnail-2d> <span ng-show="item.itemRestrictionIcon" ng-class="item.itemRestrictionIcon"> </span> </div> </div> <div class="item-card-caption" ng-if="layout.isItemDetailsLoaded || (item.detailsLoaded && isInfiniteScrollWebEnabled())"> <div class="item-card-name-link"> <div class="item-card-name" title="{{ item.name }}"><span class="icon-premium-small" ng-if="shouldShowPremiumIcon()"></span> {{item.name}}</div> </div> <div ng-if="hasSecondaryInfo()" ng-class="{\'margin-top-none\' : !hasSecondaryInfo()}" class="item-card-secondary-info text-secondary"> <div ng-if="item.unitsAvailableForConsumption && false" class="text-overflow item-card-label"> <span ng-bind="\'Label.Card.Remaining\' | translate"></span> <span ng-bind="item.unitsAvailableForConsumption | number"></span> </div> <div ng-if="isCreatorNameShown()"> <div class="creator-name-container"> <div class="text-overflow item-card-label"> <span ng-bind-html="\'Label.ByCreatorLink\'| translate:{\r\n                            linkStart: \'<a target=_self class=\\\'creator-name text-link\\\' href=\\\'\' + item.creatorLink + \'\\\'>\', linkEnd: \'</a>\', creator: item.nameForDisplay }"> </span> <span class="mobile-creator-name">{{ item.nameForDisplay }}</span> </div> <span ng-if="showVerifiedBadge(item)" class="verified-badge-icon-catalog-item" data-size="Title" data-overrideimgclass="verified-badge-icon-catalog-item-rendered"> </span> </div> </div> <div ng-if="getDisplayPrice() && item.lowestPrice && false" class="text-overflow item-card-label"> <span ng-bind="\'Label.Card.PriceWas\' | translate"></span> <span class="icon-robux-gray-16x16"></span> <span class="strike-through" ng-bind="getDisplayPrice() | number"></span> </div> </div> <div class="text-overflow item-card-price font-header-2 text-subheader" ng-class="{\'margin-top-none\' : hasSecondaryInfo()}" ng-if="item.priceStatus"> <span class="text text-label" ng-class="{\'text-robux-tile\': item.isFree}"> {{item.priceStatus}} </span> </div> <div class="text-overflow item-card-price font-header-2 text-subheader" ng-class="{\'margin-top-none\' : hasSecondaryInfo()}" ng-if="!item.priceStatus"> <span class="icon icon-robux-16x16" ng-if="getDisplayPrice() || item.lowestPrice"></span> <span class="text-robux-tile" ng-if="getDisplayPrice() && !item.lowestPrice" ng-bind="getDisplayPrice() | number"></span> <span class="text-robux-tile" ng-if="item.lowestPrice" ng-bind="item.lowestPrice | number"></span> </div> </div> <ul class="item-card-caption-progressive-loading shimmer-lines" ng-if="!layout.isItemDetailsLoaded && (!item.detailsLoaded || !isInfiniteScrollWebEnabled())"> <li class="placeholder shimmer-line"></li> <li class="placeholder shimmer-line"></li> <li class="placeholder shimmer-line"></li> </ul> </a> '},3771:function(e){e.exports='<div class="catalog-results" ng-controller="itemsContainerController"> <h2 class="featured-items-heading" ng-if="!layout.isNavigationMenuLoaded"> <span class="shimmer-lines"> <span class="placeholder shimmer-line"></span> </span> </h2> <a ng-if="!categoryOptimizationEnabled" class="btn-growth-md buy-robux" href="{{ library.buyRobuxUrl }}" target="_self" ng-click="buyRobuxButtonOnClickEvt()" ng-bind="\'Action.BuyRobux\' | translate"></a> <div id="sponsored-catalog-items" data-placement-location="AvatarShop" ng-if="isCurrentCategoryRecommended() && isCatalogAdsRowOnRecommendedPageEnabled && avatarShopPlacement == \'top\'"></div> <h2 ng-show="shouldShowHeading()" class="featured-items-heading"> <span class="line-height" ng-bind-html="showRecommendedHeading() ? (\'Label.RecommendedItemsForYou\' | translate ) : (\'Label.FeaturedItemsOnRoblox\' | translate:{spanStart: \'<span class=text-roblox>\', spanEnd: \'</span>\', roblox: \'Roblox\'})"> </span> <div class="sort-search" ng-show="isJustinUiChangesEnabled && justinUiChangesLeftSearchBar"> <div ng-if="library.initialized && !library.isPhone" class="recommended-search-bar clearfix"> <div search-bar ng-if="isJustinUiChangesEnabled && justinUiChangesLeftSearchBar"></div> </div> </div> </h2> <div ng-if="isBreadcrumbsAvailable()" ng-show="!shouldShowHeading()"> <div catalog-breadcrumbs></div> </div> <div class="topic-container" ng-if="topicBasedBrowsingEnabled && topicBasedBrowsingDisplayEnabled && topicBasedBrowsingEnabledForCategory"> <span id="topic-navigation-left" class="topic-navigation-left topic-navigation-blur-left" ng-show="topicCarouselWidth > 0 && showTopicNavigationButton(true)"> <button class="topic-navigation-button" ng-click="onTopicNavigationButtonClicked(true)"> <span class="icon-left-gray"> </button> </span> <span id="topic-navigation-clear" ng-show="showTopicNavigationClearButton()" class="topic-navigation-left"> <button class="topic-navigation-button" ng-click="onTopicClearButtonClicked()"> <span class="icon-actions-clear-sm"> </button> </span> <span class="topic-carousel" id="topic-carousel"> <span ng-repeat="topic in selectedTopics" class="topic selected-topic" ng-click="onTopicClicked(topic)"> {{formatTopic(topic.displayName)}} <span class="icon-close"></span> </span> <span ng-repeat="topic in topics" class="topic unselected-topic" ng-click="onTopicClicked(topic)"> {{formatTopic(topic.displayName)}}</span> </span> <span class="topic-carousel-placeholder" ng-if="(!selectedTopics && !topics) || (selectedTopics.length === 0 && topics.length === 0)"> </span> <span id="topic-navigation-right" class="topic-navigation-right topic-navigation-blur-right" ng-show="topicCarouselWidth > 0 && showTopicNavigationButton(false)"> <button class="topic-navigation-button" ng-click="onTopicNavigationButtonClicked(false)"> <span class="icon-right-gray"> </button> </span> </div> <div id="results" class="results-container"> <div class="section-content-off" ng-if="!isLayeredClothingCategory" ng-show="layout.showNoResultsMessage && layout.isSearchItemsLoaded" ng-bind="\'Response.NoItemsFound\' | translate"> </div> <div class="section-content-off" ng-if="isLayeredClothingCategory" ng-show="layout.showNoResultsMessage && layout.isSearchItemsLoaded" ng-bind="\'Label.ComingSoon\' | translate"> </div> <div class="section-content-off" ng-show="layout.showErrorMessage && layout.isSearchItemsLoaded" ng-bind="\'Response.TemporarilyUnavailable\' | translate"> </div> <ul class="hlist item-cards-stackable" ng-if="isInfiniteScrollEnabled()" infinite-scroll="fetchNextFromInfiniteScroll()"> <li class="list-item item-card" item-card ng-repeat="item in searchResultDict | orderList: searchResultList | limitTo: !isInfiniteScrollWebEnabled()? getNumberItemToDisplay(): Infinity" ng-controller="itemCardController"> </li> </ul> <ul class="hlist item-cards-stackable" ng-if="isRegularItemsResultAvailable() && (!isInfiniteScrollEnabled() || !isInfiniteScrollWebEnabled())" ng-class="{\'faded\' : layout.loading}"> <li class="list-item item-card" item-card ng-repeat="item in searchResultDict | orderList: searchResultList | limitTo: getNumberItemToDisplay()" ng-controller="itemCardController"> </li> </ul> <div class="spinner spinner-sm" ng-if="layout.initialized" ng-show="layout.loading && (!isInfiniteScrollEnabled() || !isInfiniteScrollWebEnabled())"> </div> <div shimmer-container ng-if="!layout.initialized && !layout.isSearchItemsLoaded"></div> </div> <button ng-if="showViewAllFeaturedItemsButton()" ng-click="getAllFeaturedItems()" class="btn-control-md btn-full-width view-all" ng-bind="getTranslationKeyForViewFeaturedButton() | translate"></button> <div class="pager-holder" cursor-pagination="pager" ng-show="paginations.isEnabled" ng-if="!isInfiniteScrollEnabled()"></div> <div class="spinner spinner-default spinner-infinite-scroll" ng-show="layout.loading && isInfiniteScrollEnabled()" ng-if="isInfiniteScrollWebEnabled()"></div> <button class="scroll-to-top icon-back-to-top" ng-click="returnToTop()" ng-show="!layout.loading && isInfiniteScrollEnabled() && !showViewAllFeaturedItemsButton() && showReturnToTop()"> </div> <div id="sponsored-catalog-items" data-placement-location="AvatarShop" ng-if="isCurrentCategoryRecommended() && isCatalogAdsRowOnRecommendedPageEnabled && avatarShopPlacement == \'bottom\'"></div> '},4507:function(e){e.exports='<div class="mobile-search-container" stick-to-top is-element-at-top="layout.isSearchBarFixed" ng-class="{\'stick-to-top\': library.isPhone && layout.isSearchBarFixed}"> <div class="search-bar"> <button id="search-options-button" type="button" class="btn-generic-menu-black-md mobile-menu-button" ng-click="toggleSearchOptions(true)"> <span class="icon-menu-black"></span> </button> <form name="forms.keywordForm" class="form-horizontal search-form"> <div class="form-group"> <div class="input-group"> <input class="form-control input-field" placeholder="{{ \'Label.SearchField\' | translate }}" type="text" maxlength="50" ng-keypress="onKeywordKeypress($event)" ng-model="searchLayout.keyword"/> <div class="input-group-btn"> <button class="input-addon-btn" type="submit" ng-click="searchKeyword()"> <span class="icon-search"></span> </button> </div> </div> </div> </form> </div> </div>'},6003:function(e){e.exports='<div id="mobile-search-options" class="mobile-panel mobile-search-options" ng-show="layout.isSearchOptionsOpen"> <form name="forms.searchOptionsForm" class="search-options-form" role="form" novalidate> <div class="section-content-off" ng-if="layout.hasSearchOptionsError" ng-bind="\'Response.GenericError\' | translate"> </div> <div class="rbx-tabs-horizontal" ng-if="!layout.hasSearchOptionsError"> <ul id="horizontal-tabs" class="nav nav-tabs" role="tablist"> <li class="rbx-tab active"> <a class="rbx-tab-heading" data-toggle="tab" data-target="#category-tab"> <span class="font-header-1" ng-bind="\'Label.Filter.Category\' | translate"></span> </a> </li> <li class="rbx-tab" ng-class="{ \'disabled\' : isCurrentCategoryRecommended() }"> <a ng-show="!isCurrentCategoryRecommended()" class="rbx-tab-heading" data-toggle="tab" data-target="#filter-tab"> <span class="font-header-1" ng-bind="\'Label.Filter.Filter\' | translate"></span> </a> <a ng-show="isCurrentCategoryRecommended()" class="rbx-tab-heading"> <span class="font-header-1" ng-bind="\'Label.Filter.Filter\' | translate"></span> </a> </li> <li class="rbx-tab" ng-class="{ \'disabled\' : isCurrentCategoryRecommended() }"> <a ng-show="!isCurrentCategoryRecommended()" class="rbx-tab-heading" data-toggle="tab" data-target="#sorting-tab"> <span class="font-header-1" ng-bind="\'Label.Filter.Sorting\' | translate"></span> </a> <a ng-show="isCurrentCategoryRecommended()" class="rbx-tab-heading"> <span class="font-header-1" ng-bind="\'Label.Filter.Sorting\' | translate"></span> </a> </li> </ul> <div class="tab-content rbx-tab-content"> <div id="category-tab" class="section-content tab-pane active"> <ul id="category-panel-group" class="panel-group"> <li ng-repeat="category in navigationMenu.categories" class="panel panel-default"> <a data-target="#mobile-category-{{ category.categoryId }}" class="panel-heading" ng-class="{\'font-bold\' : category.categoryId === currentQuery.category.categoryId}" ng-click="mobileCategoryClick(category)" data-toggle="collapse" data-parent="#category-panel-group" role="tab"> <span ng-show="category.categoryId === currentQuery.category.categoryId" class="icon-checkmark-blue selected-icon"></span> {{ category.name }} <span ng-show="category.categoryId === currentQuery.category.categoryId && currentQuery.subcategory.length > 0">({{currentQuery.subcategory.shortName\r\n                                    || currentQuery.subcategory.name}})</span> <span ng-if="category.subcategories.length > 0" class="icon-down-16x16 arrow-icon"></span> </a> <div id="mobile-category-{{ category.categoryId }}" class="panel-collapse collapse" accordion-menu data-toggle="collapsible-element" role="tabpanel"> <ul ng-if="category.subcategories"> <li ng-repeat="subcategory in category.subcategories" class="radio top-border"> <input type="radio" name="radio-category" id="mobile-radio-cat-{{ category.categoryId }}-{{ subcategory.subcategoryId }}" ng-model="currentQuery.subcategory" ng-value="subcategory" ng-click="mobileCategoryClick(category, true)"/> <label for="mobile-radio-cat-{{ category.categoryId }}-{{ subcategory.subcategoryId }}">{{\r\n                                            subcategory.name }}</label> </li> </ul> </div> </li> </ul> </div> <div id="filter-tab" class="tab-pane"> <h4 ng-if="data.currencyTypes" class="font-header-2" ng-bind="\'Label.Filter.Price\' | translate"> </h4> <div ng-if="data.currencyTypes" class="section-content"> <div price-filters></div> </div> <div ng-if="data.salesTypeFilters && data.salesTypeFilters.length > 0" class="filter-label font-header-2" ng-bind="\'Label.Filter.SalesType\' | translate"> </div> <div ng-if="data.salesTypeFilters && data.salesTypeFilters.length > 0" sales-type-filter></div> <div ng-if="categoryOptimizationEnabled && data.sortMenus.sortOptions && data.sortMenus.sortOptions.length > 0" class="filter-label font-header-2" ng-bind="\'Label.Filter.Sorts\' | translate"> </div> <div ng-if="categoryOptimizationEnabled && data.sortMenus.sortOptions && data.sortMenus.sortOptions.length > 0" sort-filter></div> <div ng-if="data.creators" class="font-header-2" ng-bind="\'Label.Filter.Creator\' | translate"></div> <div ng-if="data.creators" class="section-content"> <div creator-filters></div> </div> <div ng-if="data.genres && canShowGenreFilters()" ng-controller="genreFiltersController"> <div class="text-label" ng-bind="\'Label.Filter.Genre\' | translate"></div> <div class="section-content"> <div genre-filters></div> </div> </div> <div ng-if="showUnavailableFilter()" class="font-header-2" ng-bind="\'Label.Filter.UnavailableItems\' | translate"></div> <div ng-if="showUnavailableFilter()" class="section-content"> <div show-unavailable-filter></div> </div> </div> <div id="sorting-tab" class="tab-pane"> <div class="section-content"> <ul> <li ng-repeat="sort in navigationMenu.sortMenus.sortOptions" ng-hide="sort.isPriceRelated && data.currencyType && data.currencyType.excludePriceSorts" class="radio top-border"> <input type="radio" name="radio-sort" id="radio-sort-{{ sort.sortType }}" ng-model="data.sortType" ng-value="sort"/> <label for="radio-sort-{{ sort.sortType }}">{{ sort.name }}</label> </li> </ul> </div> <div ng-show="data.sortType.hasSubMenu"> <div class="text-label" ng-bind="\'Label.Filter.ByTime\' | translate"></div> <div class="section-content"> <ul> <li ng-repeat="sort in navigationMenu.sortMenus.sortAggregations" class="radio top-border"> <input type="radio" name="radio-sub-sort" id="radio-sub-sort-{{ sort.sortAggregation }}" ng-model="data.sortAggregation" ng-value="sort"/> <label for="radio-sub-sort-{{ sort.sortAggregation }}">{{ sort.name }}</label> </li> </ul> </div> </div> </div> </div> </div> <div class="button-container"> <button id="cancel-button" class="btn-control-lg" ng-click="toggleSearchOptions(false)" ng-bind="\'Action.Filter.Cancel\' | translate"></button> <button class="btn-primary-lg apply-button" ng-if="!layout.hasSearchOptionsError" ng-click="applyMobileSearch()" ng-bind="\'Action.Filter.Apply\' | translate"></button> </div> </form> </div>'},6904:function(e){e.exports='<ul ng-if="data.currencyTypes"> <li ng-repeat="currencyType in data.currencyTypes" class="radio top-border font-caption-body" ng-show="showCurrencyType(currencyType)"> <input type="radio" name="radio-price" id="radio-price-{{ currencyType.currencyType }}" ng-model="data.currencyType" ng-value="currencyType" ng-change="filterChanged()"/> <label ng-if="currencyType.currencyType !== library.robuxFilterId && currencyType.currencyType !== library.customRobuxFilterId" for="radio-price-{{ currencyType.currencyType }}"> {{ currencyType.name }} </label> <label for="radio-price-{{ currencyType.currencyType }}" class="has-input" ng-if="(currencyType.currencyType === library.robuxFilterId || currencyType.currencyType === library.customRobuxFilterId)"> <input class="form-control input-field input-number price-input font-caption-body" type="number" pattern="[0-9]*" min="0" name="minPrice" placeholder="{{ \'Label.Filter.PriceMin\' | translate }}" ng-model="data.minPrice" ng-focus="data.currencyType = currencyType"/> <input class="form-control input-field input-number price-input font-caption-body" type="number" pattern="[0-9]*" min="0" name="maxPrice" placeholder="{{ \'Label.Filter.PriceMax\' | translate }}" ng-model="data.maxPrice" ng-focus="data.currencyType = currencyType"/> <button class="btn-secondary-xs btn-update-filter" ng-disabled="data.currencyType.currencyType !== library.robuxFilterId && data.currencyType.currencyType !== library.customRobuxFilterId" ng-click="applySearch(true)" ng-bind="\'Action.Go\' | translate"></button> </label> </li> </ul>'},4526:function(e){e.exports='<ul> <li ng-repeat="salesType in data.salesTypeFilters" class="radio top-border font-caption-body"> <input type="radio" name="radio-sales-type" id="radio-sales-type-{{ salesType.filter }}" ng-value="salesType" ng-model="data.salesTypeFilter" ng-change="filterChanged()"/> <label for="radio-sales-type-{{ salesType.filter }}"> {{ salesType.name }} </label> </li> </ul> '},4801:function(e){e.exports='<div class="search-container" ng-class="{ \'search-container-categories\': !categoryOptimizationEnabled, \'search-container-no-categories\': categoryOptimizationEnabled, \'search-container-original\': !(isJustinUiChangesEnabled && justinUiChangesLeftSearchBar), \'search-container-layered-clothing-ui\': isJustinUiChangesEnabled && justinUiChangesLeftSearchBar}"> <div class="input-group"> <div id="search-bar-container" click-outside="onClickOutsideAutocomplete()"> <input id="avatar-shop-keyword-input" ng-class="{\'input-rounded\': categoryOptimizationEnabled}" class="form-control input-field search-input" placeholder="{{ \'Label.SearchField\' | translate }}" maxlength="50" ng-keypress="onKeywordKeypress($event, true)" ng-keydown="onKeywordKeydown($event)" ng-model="searchLayout.keyword" ng-change="keywordChanged()" ng-click="onKeywordInputClicked($event)" autocomplete="off" autocorrect="off" spellcheck="false" name="searchField" type="text"/> <span id="navbar-search-clear-btn" tabIndex="{0}" role="button" aria-label="Clear Search" class="clear-search icon-actions-clear-sm" ng-if="isAutocompleteEnabled && searchLayout.keyword.length > 0" ng-click="onKeywordClear($event)"> </span> <div class="autocomplete-dropdown-menu" ng-if="isAutocompleteEnabled" ng-class="{\'open\': searchLayout.keyword.length > 0 && autocompleteSuggestions.show}"> <ul id="autocomplete-list" class="dropdown-menu" role="menu" data-toggle="dropdown-menu"> <li id="autocomplete-suggestion-li-{{$index}}" ng-repeat="suggestion in autocompleteSuggestions.suggestions"> <a id="autocomplete-suggestion-{{$index}}" ng-click="onAutocompleteSuggestionClicked(suggestion.Query, $index)"> <span class="icon navbar-list-option-icon icon-search"> </span> <span> {{suggestion.Query}} </span> </a> </li> </ul> </div> </div> <div class="input-group-btn-category input-group-btn"> <button ng-if="!layout.hasSearchOptionsError" type="button" data-toggle="dropdown" class="input-dropdown-btn category-options" ng-disabled="disabled" aria-haspopup="true" aria-expanded="false" ng-show="!(isJustinUiChangesEnabled && justinUiChangesLeftSearchBar)"> <span class="text-overflow rbx-selection-label">{{ getCategoryDropdownValue() }}</span> <span class="icon-down-16x16"></span> </button> <ul class="dropdown-menu" data-toggle="dropdown-menu" role="menu" ng-show="!(isJustinUiChangesEnabled && justinUiChangesLeftSearchBar)"> <li ng-repeat="category in navigationMenu.categories | filter: isSearchableCategory | orderBy : \'orderIndex\'"> <a ng-click="updateCategory($event, true, false, category)">{{category.name}}</a> </li> </ul> <a ng-if="categoryOptimizationEnabled" class="btn-growth-md buy-robux" href="{{ library.buyRobuxUrl }}" target="_self" ng-click="buyRobuxButtonOnClickEvt()" ng-bind="\'Action.BuyRobux\' | translate"></a> <button class="input-addon-btn" type="submit" ng-click="applySearch(true)"> <span class="icon-search"></span> </button> </div> </div> </div>'},640:function(e){e.exports='<div id="search-options" class="search-options" ng-controller="searchOptionsController"> <form name="forms.searchOptionsForm" class="border-right search-options-form" role="form" novalidate> <div class="section-content-off" ng-if="layout.hasSearchOptionsError" ng-bind="\'Response.GenericError\' | translate"> </div> <div ng-if="!layout.hasSearchOptionsError"> <div class="border-bottom category-section"> <h2 class="font-header-1 search-options-header" ng-bind="\'Heading.CatalogCategory\' | translate"></h2> <ul id="category-panel-group" class="panel-group"> <li ng-repeat="category in navigationMenu.categories" class="font-header-2 text-subheader panel panel-default"> <a id="expandable-menu-category-{{ category.categoryId }}" data-target="#category-{{ category.categoryId }}" class="small text menu-link text-link-secondary panel-heading" data-toggle="collapse" data-parent="#category-panel-group" role="tab" ng-class="{\'panel-heading-layered-clothing-ui\': isJustinUiChangesEnabled && justinUiChangesCategoryChange}"> <button ng-if="category.categoryId === library.allCategoriesId && !categoryOptimizationEnabled" class="category-view-all btn-text" ng-bind="\'Action.ViewAllItems\' | translate" ng-click="categoryClick($event, category)">View All Items</button> <button class="category-name btn-text" ng-if="category.categoryId !== library.allCategoriesId || categoryOptimizationEnabled" ng-click="categoryNameClick($event, category)">{{ category.name }}</button> <button ng-show="canToggleSubmenu(category)" class="toggle-submenu btn-text" ng-class="{ \'icon-plus\': !(isJustinUiChangesEnabled && justinUiChangesCategoryChange), \'icon-down\': isJustinUiChangesEnabled && justinUiChangesCategoryChange}" ng-click="categoryClick($event, category)"></button> </a> <div id="category-{{ category.categoryId }}" class="panel-collapse collapse" accordion-menu use-secondary-icons="true" data-toggle="collapsible-element" role="tabpanel" ng-attr-data-expanded-icon="{{isJustinUiChangesEnabled && justinUiChangesCategoryChange ? \'icon-up\' : \'icon-minus\'}}" ng-attr-data-collapsed-icon="{{isJustinUiChangesEnabled && justinUiChangesCategoryChange ? \'icon-down\' : \'icon-plus\'}}"> <ul ng-if="category.subcategories" class="subcategory-menu"> <li ng-repeat="subcategory in category.subcategories" class="top-border"> <button class="small text menu-link text-link-secondary btn-text" ng-class="{\'active\' : currentQuery.category.categoryId === category.categoryId && currentQuery.subcategory.subcategoryId == subcategory.subcategoryId}" ng-click="updateCategory($event, false, true, category, subcategory)"> {{ subcategory.name }} </button> </li> </ul> </div> </li> </ul> </div> <div ng-show="canShowFilters()"> <h2 class="font-header-1 search-options-header filters-header" ng-bind="\'Label.Filter.Filters\' | translate"> </h2> <div class="border-bottom filters-section"> <div ng-if="data.genres && canShowGenreFilters()" ng-controller="genreFiltersController" ng-show="!(isJustinUiChangesEnabled && justinUiChangesCategoryChange)" ng-if="{\'panel-heading-layered-clothing-ui\': isJustinUiChangesEnabled && justinUiChangesCategoryChange}"> <div class="font-header-2 filter-label" ng-bind="\'Label.Filter.Genre\' | translate"></div> <div genre-filters></div> </div> <div ng-if="data.salesTypeFilters && data.salesTypeFilters.length > 0" class="filter-label font-header-2" ng-bind="\'Label.Filter.SalesType\' | translate"> </div> <div ng-if="data.salesTypeFilters && data.salesTypeFilters.length > 0" sales-type-filter></div> <div ng-if="data.creators" class="filter-label font-header-2" ng-bind="\'Label.Filter.Creator\' | translate"> Creator </div> <div creator-filters></div> <div ng-if="data.currencyTypes" class="filter-label font-header-2" ng-bind="\'Label.Filter.Price\' | translate"> </div> <div price-filters></div> <div ng-if="categoryOptimizationEnabled && data.sortMenus.sortOptions && data.sortMenus.sortOptions.length > 0" class="filter-label font-header-2" ng-bind="\'Label.Filter.Sorts\' | translate"> </div> <div ng-if="categoryOptimizationEnabled && data.sortMenus.sortOptions && data.sortMenus.sortOptions.length > 0" sort-filter></div> <div id="genres" class="font-header-2 filter-label" ng-if="data.genres && canShowGenreFilters()" ng-controller="genreFiltersController" ng-show="isJustinUiChangesEnabled && justinUiChangesCategoryChange"> <a data-target="#genre-dropdown" data-toggle="collapse" data-parent="#genres" role="tab" class="panel-heading"> <span class="font-header-2 filter-label" ng-bind="\'Label.Filter.Genre\' | translate"></span> <span class="filter-expand-icon icon-down"></span> </a> <div id="genre-dropdown" class="panel-collapse collapse" accordion-menu use-secondary-icons="true" data-toggle="collapsible-element" role="tabpanel" data-expanded-icon="icon-up" data-collapsed-icon="icon-down"> <div genre-filters></div> </div> </div> <div class="font-header-2 filter-label" ng-bind="\'Label.Filter.UnavailableItems\' | translate"></div> <div show-unavailable-filter></div> </div> </div> </div> </form> </div>'},6083:function(e){e.exports='<ul class="hlist item-cards-stackable"> <li class="list-item item-card" ng-repeat="i in [] | range: getNumberItemToDisplay()"> <div class="item-card-container"> <div class="item-card-link"> <div class="item-card-thumb-container"> <div class="shimmer item-card-thumb-progressive-loading"></div> </div> </div> <ul class="item-card-caption-progressive-loading shimmer-lines"> <li class="placeholder shimmer-line"></li> <li class="placeholder shimmer-line"></li> <li class="placeholder shimmer-line"></li> </ul> </div> </li> </ul>'},4137:function(e){e.exports='<div id="search-options" class="search-options"> <ul class="search-options-progressive-loading shimmer-lines"> <li class="placeholder shimmer-line" ng-repeat="i in [] | range: 9"></li> </ul> </div> '},904:function(e){e.exports='<ul> <li class="radio top-border font-caption-body"> <input type="radio" name="radio-unavailable" id="radio-unavailable-hide" ng-value="false" ng-model="data.includeNotForSale" ng-change="filterChanged()"/> <label for="radio-unavailable-hide" ng-bind="\'Label.Filter.Hide\' | translate"></label> </li> <li class="radio top-border font-caption-body"> <input type="radio" name="radio-unavailable" id="radio-unavailable-show" ng-value="true" ng-model="data.includeNotForSale" ng-change="filterChanged()"/> <label for="radio-unavailable-show" ng-bind="\'Label.Filter.Show\' | translate"></label> </li> </ul>'},9326:function(e){e.exports='<ul> <li ng-repeat="sortOption in data.sortMenus.sortOptions" class="radio top-border font-caption-body"> <input type="radio" name="radio-sort-option" id="radio-sort-option-{{ sortOption.sortType }}" ng-value="sortOption" ng-model="data.sortType" ng-change="filterChanged()"/> <label for="radio-sort-option-{{ sortOption.sortType }}"> {{ sortOption.name }} </label> <ul ng-if="sortOption.hasSubMenu && data.sortType === sortOption"> <li ng-repeat="sortAggregation in data.sortMenus.sortAggregations" class="radio top-border font-caption-body"> <input type="radio" name="radio-sort-aggregation" id="radio-sort-aggregation-{{ sortAggregation.sortAggregation }}" ng-value="sortAggregation" ng-model="data.sortAggregation" ng-change="filterChanged()"/> <label for="radio-sort-aggregation-{{ sortAggregation.sortAggregation }}"> {{ sortAggregation.name }} </label> </li> </ul> </li> </ul> '},4720:function(e){"use strict";e.exports=CoreUtilities},792:function(e){"use strict";e.exports=Roblox},5734:function(e){"use strict";e.exports=angular}},t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={exports:{}};return e[r](n,n.exports,a),n.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=a(5734),t=a.n(e),r=a(3544),n=a(9597);(0,r.importFilesUnderPath)(a(6811)),(0,r.importFilesUnderPath)(a(2002)),(0,r.importFilesUnderPath)(a(7481)),(0,r.importFilesUnderPath)(a(6811)),(0,r.importFilesUnderPath)(a(7344)),(0,r.importFilesUnderPath)(a(9630));var i=a(3634),o=a(3634),s=(0,r.templateCacheGenerator)(t(),"catalogPageTemplates",i,o);t().element((function(){t().bootstrap("#catalog-container",[n.Z.name,s.name])}))}()}();
//# sourceMappingURL=https://js.rbxcdn.com/71706370de8c55541187be6b8c476848-catalog.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("Catalog");