!function(){"use strict";var n={n:function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},d:function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},y=React,b=n.n(y),r=CoreUtilities,t=ReactDOM,e=ReactUtilities,T=ReactStyleGuide,u=RobloxThumbnails,m={itemDetailsAdCount:7,catalogCategoryType:"All",campaignTargetType:"Asset",getSponsoredCatalogItems:{url:(a=Roblox).EnvironmentUrls.catalogApi+"/v1/catalog/sponsored-items",retryable:!1,withCredentials:!0},getCatalogItemsDetails:{url:a.EnvironmentUrls.catalogApi+"/v1/catalog/items/details",retryable:!1,withCredentials:!0},recordClick:{url:a.EnvironmentUrls.adConfigurationApi+"/v2/tracking/click",retryable:!1,withCredentials:!0},sizing:{tileWidth:150,screenSize1Item:768,screenSize3Items:784,screenSize4Items:1127,screenSize5Items:1283,screenSize6Items:1907,catalogLeftNav:160,websiteLeftNav:175,extraSpace:43}},S={getSponsoredCatalogItems:function(e,t,a){a={count:e,catalogCategoryType:t,placementLocation:a};return r.httpService.get(m.getSponsoredCatalogItems,a)},getCatalogItemsDetails:function(e){e={items:e};return r.httpService.post(m.getCatalogItemsDetails,e)},recordClick:function(e,t){t={encryptedAdTrackingData:e,campaignTargetType:m.campaignTargetType,placementLocation:t};return r.httpService.post(m.recordClick,t)}},w=function(e,o,c,l){return new(c=c||Promise)(function(a,t){function n(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?a(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(n,r)}i((l=l.apply(e,o||[])).next())})},C=function(a,n){var r,i,o,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,i=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(o=0<(o=c.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){c.label=t[1];break}if(6===t[0]&&c.label<o[1]){c.label=o[1],o=t;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(t);break}o[2]&&c.ops.pop(),c.trys.pop();continue}t=n.call(a,c)}catch(e){t=[6,e],i=0}finally{r=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function d(e){var t=this,a=e.id,n=e.name,r=e.type,i=e.creatorName,o=e.creatorType,c=e.creatorTargetId,l=e.price,s=e.lowestPrice,u=e.priceStatus,m=e.premiumPricing,d=e.unitsAvailableForConsumption,p=e.itemStatus,f=e.itemRestrictions,g=e.thumbnail2d,h=e.encryptedAdTrackingData,v=e.placementLocation,e=(0,y.useCallback)(function(){return w(t,void 0,void 0,function(){return C(this,function(e){return[2,S.recordClick(h,v)]})})},[h,v]);return b().createElement("div",{className:"sponsored-item-card",onClick:e,onKeyDown:e},b().createElement(T.ItemCard,{id:a,name:n,type:r,creatorName:i,creatorType:o,creatorTargetId:c,price:l,lowestPrice:s,priceStatus:u,premiumPricing:m,unitsAvailableForConsumption:d,itemStatus:p,itemRestrictions:f,thumbnail2d:g}))}var a={common:[""],feature:"Feature.GamePage"},p=function(e,o,c,l){return new(c=c||Promise)(function(a,t){function n(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?a(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(n,r)}i((l=l.apply(e,o||[])).next())})},f=function(a,n){var r,i,o,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,i=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(o=0<(o=c.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){c.label=t[1];break}if(6===t[0]&&c.label<o[1]){c.label=o[1],o=t;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(t);break}o[2]&&c.ops.pop(),c.trys.pop();continue}t=n.call(a,c)}catch(e){t=[6,e],i=0}finally{r=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=(0,e.withTranslations)(function(e){var r=e.placementLocation,t=e.translate,a=(0,y.useState)(void 0),n=a[0],i=a[1],e=(0,y.useState)(void 0),a=e[0],o=e[1],c=(0,y.useCallback)(function(){var e,t,a,n=0;switch(r){case"AvatarShop":n=(t=window.innerWidth)<(a=m.sizing).screenSize1Item?1:t<a.screenSize3Items?3:t<a.screenSize4Items?4:t<a.screenSize5Items?5:t<a.screenSize6Items?6:(e=a.tileWidth,a=t-a.catalogLeftNav-a.websiteLeftNav-a.extraSpace,Math.floor(a/e));break;case"ItemDetails":n=m.itemDetailsAdCount}return n},[r]),l=(0,y.useCallback)(function(){return p(void 0,void 0,void 0,function(){return f(this,function(e){return[2,S.getSponsoredCatalogItems(c(),m.catalogCategoryType,r)]})})},[c,r]),s=(0,y.useCallback)(function(a){return p(void 0,void 0,void 0,function(){var t;return f(this,function(e){return t=Array(),a.forEach(function(e){t.push({itemType:e.itemType,id:e.id})}),[2,S.getCatalogItemsDetails(t)]})})},[]),e=(0,y.useCallback)(function(){l().then(function(e){i(e.data.data),s(e.data.data).then(function(e){o(e.data.data)}).catch(function(){o([])})}).catch(function(){i([]),o([])})},[l,s]);if(void 0===a&&void 0===n)return e(),b().createElement("div",{className:"sponsored-catalog-items-container",id:"loading-sponsored-catalog-items"},b().createElement("div",{className:"sponsored-catalog-items-loading-title shimmer"}),b().createElement("div",{className:"sponsored-catalog-items-loading-row"}),b().createElement("div",{className:"sponsored-catalog-items-row"},Array.from({length:c()},function(e,t){return b().createElement("div",{key:t,className:"grid-item-container item-card item-card-loading"},b().createElement("div",{className:"item-card-thumb-container shimmer"}),b().createElement("div",{className:"item-card-link"},b().createElement("div",{className:"item-card-name shimmer"}),b().createElement("div",{className:"item-card-name item-name-title-half shimmer"})))})));if(a&&0<a.length&&n&&0<n.length){if("ItemDetails"===r)return b().createElement(b().Fragment,null,b().createElement("div",{className:"container-list sponsored-layer recommendations-container",id:"populated-sponsored-catalog-items"},b().createElement("div",{className:"container-header recommendations-header"},b().createElement("h2",null,t("Label.Sponsored"))),b().createElement("div",{className:"recommended-items-slider"},b().createElement("ul",{className:"hlist item-cards recommended-items"},a.map(function(e,t){var a;return b().createElement(d,{key:e.id,id:e.id,name:e.name,type:e.itemType,creatorName:e.creatorName,creatorType:e.creatorType,creatorTargetId:e.creatorTargetId,price:e.price||0,lowestPrice:e.lowestPrice||-1,priceStatus:e.priceStatus,premiumPricing:(null===(a=e.premiumPricing)||void 0===a?void 0:a.premiumPriceInRobux)||-1,unitsAvailableForConsumption:e.unitsAvailableForConsumption||0,itemStatus:e.itemStatus,itemRestrictions:e.itemRestrictions,thumbnail2d:b().createElement(u.Thumbnail2d,{type:T.ItemCardUtils.checkIfBundle(e.itemType)?u.ThumbnailTypes.bundleThumbnail:u.ThumbnailTypes.assetThumbnail,targetId:e.id,size:u.DefaultThumbnailSize}),encryptedAdTrackingData:n[t].encryptedAdTrackingData,placementLocation:r})})))));if("AvatarShop"===r)return b().createElement(b().Fragment,null,b().createElement("div",{className:"sponsored-catalog-items-container",id:"populated-sponsored-catalog-items"},b().createElement("h2",{className:"sponsored-catalog-items-row-title"},t("Label.Sponsored")),b().createElement("div",{className:"sponsored-catalog-items-row"},b().createElement("div",{className:"hlist item-cards-stackable"},a.map(function(e,t){var a;return b().createElement(d,{key:e.id,id:e.id,name:e.name,type:e.itemType,creatorName:e.creatorName,creatorType:e.creatorType,creatorTargetId:e.creatorTargetId,price:e.price||0,lowestPrice:e.lowestPrice||-1,priceStatus:e.priceStatus,premiumPricing:(null===(a=e.premiumPricing)||void 0===a?void 0:a.premiumPriceInRobux)||-1,unitsAvailableForConsumption:e.unitsAvailableForConsumption||0,itemStatus:e.itemStatus,itemRestrictions:e.itemRestrictions,thumbnail2d:b().createElement(u.Thumbnail2d,{type:T.ItemCardUtils.checkIfBundle(e.itemType)?u.ThumbnailTypes.bundleThumbnail:u.ThumbnailTypes.assetThumbnail,targetId:e.id,size:u.DefaultThumbnailSize}),encryptedAdTrackingData:n[t].encryptedAdTrackingData,placementLocation:r})})))))}return b().createElement("div",null)},a),o=function(e){e=e.getAttribute("data-placement-location");return e?e.toString():""};function c(){var e=document.getElementById("sponsored-catalog-items");e?(0,t.render)(b().createElement(i,{placementLocation:o(e)}),e):window.requestAnimationFrame(c)}(0,r.ready)(function(){c()}),window.Roblox.SponsoredCatalogItems=i}();
//# sourceMappingURL=https://js.rbxcdn.com/33c5e958aacbe6145922-sponsoredCatalogItems.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("SponsoredCatalogItems");